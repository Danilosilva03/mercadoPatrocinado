/*! For license information please see main.fdceb025.js.LICENSE.txt */
(()=>{var e={147:(e,t,n)=>{"use strict";var r=n(876);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},396:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(764)},501:(e,t,n)=>{"use strict";var r=n(396);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},508:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,O(S);else{var t=r(c);null!==t&&R(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&R(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,k=null,I=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function A(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?_():(E=!1,k=null)}}else E=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){y(A,0)};function O(e){k=e,E||(E=!0,_())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(I),I=-1):g=!0,R(x,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},540:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var u=0;u<e.length;u++){var c=s+T(o=e[u],u);l+=N(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,c=s+T(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},565:(e,t,n)=>{"use strict";e.exports=n(540)},611:(e,t,n)=>{"use strict";e.exports=n(508)},643:(e,t,n)=>{"use strict";var r=n(565),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},764:(e,t,n)=>{"use strict";var r=n(565),i=n(611);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Ie(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ee)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Oe=!1}function Le(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,ze=null,Ve={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,i,s,a,o,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,We=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,Et,kt,It=!1,Ct=[],Tt=null,Nt=null,At=null,Dt=new Map,Pt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Dt.forEach(zt),Pt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Nt&&Ut(Nt,e),null!==At&&Ut(At,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,$t=!0;function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=s}}function Ht(e,t,n,r){if($t){var i=Wt(e,t,n,r);if(null===i)$r(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Wt(e,t,n,r))&&$r(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Qt=null;function Wt(e,t,n,r){if(Qt=null,null!==(e=vi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(F({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function kn(){return En}var In=F({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(In),Tn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Dn),On=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function Wn(e){if(H(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Wn(Hn)){var t=[];Kn(t,Hn,e,xe(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Hn)}function sr(e,t){if("click"===e)return Wn(t)}function ar(e,t){if("input"===e||"change"===e)return Wn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Er={};function kr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=kr("animationend"),Cr=kr("animationiteration"),Tr=kr("animationstart"),Nr=kr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Rr=Dr[Or];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,u),s=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=xe(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Ir:case Cr:case Tr:l=yn;break;case Nr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&c.push(Kr(p,m,f)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==u?o:wi(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,vi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Hr(f))p++;for(f=0,m=d;m;m=Hr(m))f++;for(;0<p-f;)c=Hr(c),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Hr(c),d=Hr(d)}c=null}else c=null;null!==l&&Qr(a,o,l,c,!1),null!==u&&null!==h&&Qr(a,h,u,c,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if($n(o))if(Xn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}jr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Pe(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var Si=[],_i=-1;function Ei(e){return{current:e}}function ki(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ii(e,t){_i++,Si[_i]=e.current,e.current=t}var Ci={},Ti=Ei(Ci),Ni=Ei(!1),Ai=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ni),ki(Ti)}function Ri(e,t,n){if(Ti.current!==Ci)throw Error(s(168));Ii(Ti,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ti.current,Ii(Ti,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(Ti),Ii(Ti,e)):ki(Ni),Ii(Ni,n)}var ji=null,zi=!1,Vi=!1;function Ui(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,zi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],$i=0,Ki=null,Gi=0,Hi=[],Qi=0,Wi=null,Yi=1,Xi="";function Ji(e,t){qi[$i++]=Gi,qi[$i++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=Wi,Wi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--$i],qi[$i]=null,Gi=qi[--$i],qi[$i]=null;for(;e===Wi;)Wi=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Du(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=ju(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),u}function g(i,o,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),is&&Ji(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return is&&Ji(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===_){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&vs(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=gs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===_?((s=Lu(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Ru(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=ju(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(L(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),Ss=Ei(null),_s=null,Es=null,ks=null;function Is(){ks=Es=_s=null}function Cs(e){var t=Ss.current;ki(Ss),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){_s=e,ks=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===_s)throw Error(s(308));Es=e,_s.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ds=null;function Ps(e){null===Ds?Ds=[e]:Ds.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rs(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rs(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var $s={},Ks=Ei($s),Gs=Ei($s),Hs=Ei($s);function Qs(e){if(e===$s)throw Error(s(174));return e}function Ws(e,t){switch(Ii(Hs,t),Ii(Gs,e),Ii(Ks,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ks),Ii(Ks,t)}function Ys(){ki(Ks),ki(Gs),ki(Hs)}function Xs(e){Qs(Hs.current);var t=Qs(Ks.current),n=le(t,e.type);t!==n&&(Ii(Gs,e),Ii(Ks,n))}function Js(e){Gs.current===e&&(ki(Ks),ki(Gs))}var Zs=Ei(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ua=!1,ca=!1,ha=0,da=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ca){a=0;do{if(ca=!1,ha=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ca)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ua=!1,t)throw Error(s(300));return e}function ga(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var h=c.lane;if((sa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,aa.lanes|=h,Ml|=h}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function _a(e,t){var n=aa,r=va(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,La(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Aa(9,ka.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&sa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function Ia(e,t,n){return n((function(){Ca(t)&&Ta(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ta(e){var t=Rs(e,1);null!==t&&nu(t,e,1,-1)}function Na(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ha.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return va().memoizedState}function Pa(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function Ra(e,t){return Pa(8390656,8,e,t)}function La(e,t){return Oa(2048,8,e,t)}function Ma(e,t){return Oa(4,2,e,t)}function Fa(e,t){return Oa(4,4,e,t)}function ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,ja.bind(null,t,e),n)}function Va(){}function Ua(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ml|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ka(){return va().memoizedState}function Ga(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Wa(t,n);else if(null!==(n=Os(e,t,n,r))){nu(n,e,r,eu()),Ya(n,t,r)}}function Ha(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Wa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Os(e,t,i,r))&&(nu(n,e,r,i=eu()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Wa(e,t){ca=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xa={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:As,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=$a.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&sa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ra(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Nl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:As,useCallback:Ua,useContext:As,useEffect:La,useImperativeHandle:za,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Ba,useReducer:wa,useRef:Da,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return qa(va(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Ka,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:Ua,useContext:As,useEffect:La,useImperativeHandle:za,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Ba,useReducer:xa,useRef:Da,useState:function(){return xa(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Ka,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(nu(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Pi(t)?Ai:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Pi(t)?Ai:Ti.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Kl=r),co(0,t)},n}function po(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function So(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return $o(e,t,i)}return t.flags|=1,(e=Ou(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,$o(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Io(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ii(Ol,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ii(Ol,Pl),Pl|=r;return wo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,i){var s=Pi(n)?Ai:Ti.current;return s=Di(t,s),Ns(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i))}function Co(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Ns(t,i),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=As(u):u=Di(t,u=Pi(n)?Ai:Ti.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&ao(t,a,r,u),Ls=!1;var d=t.memoizedState;a.state=d,Bs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ni.current||Ls?("function"===typeof c&&(no(t,n,c,r),l=t.memoizedState),(o=Ls||io(t,n,o,r,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Di(t,l=Pi(n)?Ai:Ti.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(t,a,r,l),Ls=!1,d=t.memoizedState,a.state=d,Bs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ni.current||Ls?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(u=Ls||io(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){ko(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),$o(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ws(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Do,Po,Oo,Ro,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(Zs,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mu(l,i,0,null),e=Lu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):jo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(a=Lu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Rs(e,i),nu(r,e,i,-1))}return mu(),zo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=Wi,Yi=e.id,Xi=e.overflow,Wi=t),t=jo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ou(r,o):(o=Lu(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Ou(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function jo(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ho(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Go(t),null;case 3:return r=t.stateNode,Ys(),ki(Ni),ki(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(au(ss),ss=null))),Po(e,t),Go(t),null;case 5:Js(t);var i=Qs(Hs.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Qs(Ks.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=W(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&zr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Hs.current),Qs(Ks.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Go(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(au(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Rl&&(Rl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Ys(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return Cs(t.type._context),Go(t),null;case 19:if(ki(Zs),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*Xe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ii(Zs,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ki(Ni),ki(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Ys(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ks.current);var s,a=null;switch(n){case"input":i=W(e,i),r=W(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wo=!1,Yo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Eu(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,dl(e,t,n),Yo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(a,o,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Eu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Eu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Eu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var c=be(l,a);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Eu(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Eu(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(c=Yo)||h,ml(t,e),Yo=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Jo=e,h=e.child;null!==h;){for(d=Jo=h;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Jo=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){Eu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Eu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Wo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Wo;var u=Yo;if(Wo=a,(Yo=l)&&!u)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Jo=l):Sl(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Wo=o,Yo=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function Sl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var s=t.return;try{il(t)}catch(l){Eu(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Eu(t,a,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var _l,El=Math.ceil,kl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Tl=0,Nl=null,Al=null,Dl=0,Pl=0,Ol=Ei(0),Rl=0,Ll=null,Ml=0,Fl=0,jl=0,zl=null,Vl=null,Ul=0,Bl=1/0,ql=null,$l=!1,Kl=null,Gl=null,Hl=!1,Ql=null,Wl=0,Yl=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Fl|=n),4===Rl&&ou(e,Dl)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Xe()+500,zi&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Nl?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,Ui(e)}(lu.bind(null,e)):Ui(lu.bind(null,e)),ai((function(){0===(6&Tl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Tl;Tl|=2;var a=pu();for(Nl===e&&Dl===t||(ql=null,Bl=Xe()+500,du(e,t));;)try{vu();break}catch(l){fu(e,l)}Is(),kl.current=a,Tl=i,null!==Al?t=0:(Nl=null,Dl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ll,du(e,0),ou(e,r),ru(e,Xe()),n;if(6===t)ou(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(a=pt(e))&&(r=a,t=su(e,a))),1===t))throw n=Ll,du(e,0),ou(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xu(e,Vl,ql);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Vl,ql),t);break}xu(e,Vl,ql);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Vl,ql),r);break}xu(e,Vl,ql);break;default:throw Error(s(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Vl,Vl=n,null!==t&&au(t)),e}function au(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ou(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(s(327));Su();var t=dt(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ll,du(e,0),ou(e,t),ru(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Vl,ql),ru(e,Xe()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Xe()+500,zi&&Bi())}}function cu(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Su();var t=Tl;Tl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Tl=t))&&Bi()}}function hu(){Pl=Ol.current,ki(Ol)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ys(),ki(Ni),ki(Ti),na();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:ki(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Nl=e,Al=e=Ou(e.current,null),Dl=Pl=t,Rl=0,Ll=null,jl=Fl=Ml=0,Vl=zl=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function fu(e,t){for(;;){var n=Al;try{if(Is(),ra.current=Xa,ua){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(sa=0,la=oa=aa=null,ca=!1,ha=0,Il.current=null,null===n||null===n.return){Rl=1,Ll=t,Al=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=Dl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){mo(a,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(u,l));break e}}a=u=lo(u,l),4!==Rl&&(Rl=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Us(a,fo(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Us(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=kl.current;return kl.current=Xa,null===e?Xa:e}function mu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||0===(268435455&Ml)&&0===(268435455&Fl)||ou(Nl,Dl)}function gu(e,t){var n=Tl;Tl|=2;var r=pu();for(Nl===e&&Dl===t||(ql=null,du(e,t));;)try{yu();break}catch(i){fu(e,i)}if(Is(),Tl=n,kl.current=r,null!==Al)throw Error(s(261));return Nl=null,Dl=0,Rl}function yu(){for(;null!==Al;)bu(Al)}function vu(){for(;null!==Al&&!We();)bu(Al)}function bu(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,Il.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ho(n,t,Pl)))return void(Al=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Rl&&(Rl=5)}function xu(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Ql);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nl&&(Al=Nl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Nu(tt,(function(){return Su(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(ei=$t,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Tl=l,bt=o,Cl.transition=a}else e.current=n;if(Hl&&(Hl=!1,Ql=e,Wl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Kl,Kl=null,e;0!==(1&Wl)&&0!==e.tag&&Su(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Su(){if(null!==Ql){var e=wt(Wl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Wl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Jo=c;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Jo=d;else for(;null!==Jo;){var f=(h=Jo).sibling,p=h.return;if(sl(h),h===c){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Jo=v;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Eu(l,l.return,S)}if(l===o){Jo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Jo=x;break e}Jo=l.return}}if(Tl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function _u(e,t,n){e=zs(e,t=fo(0,t=lo(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zs(t,e=po(t,e=lo(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Dl&n)===n&&(4===Rl||3===Rl&&(130023424&Dl)===Dl&&500>Xe()-Ul?du(e,0):jl|=n),ru(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Rs(e,t))&&(yt(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Iu(e,n)}function Nu(e,t){return He(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,n,r){return new Au(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Du(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Lu(n.children,i,a,t);case E:o=8,i|=8;break;case k:return(e=Du(12,n,t,2|i)).elementType=k,e.lanes=a,e;case N:return(e=Du(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Du(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Mu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:o=10;break e;case C:o=9;break e;case T:o=11;break e;case D:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Du(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lu(e,t,n,r){return(e=Du(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Du(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Du(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Du(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,s,a,o,l){return e=new zu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Du(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Uu(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bu(e,t,n,r,i,s,a,o,l){return(e=Vu(n,r,!0,e,0,s,0,o,l)).context=Uu(null),n=e.current,(s=js(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function qu(e,t,n,r){var i=t.current,s=eu(),a=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,a))&&(nu(e,i,a,s),Vs(e,i,a)),a}function $u(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fs();break;case 5:Xs(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Ws(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ii(Zs,1&Zs.current),null!==(e=$o(e,t,n))?e.sibling:null);Ii(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return $o(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Di(t,Ti.current);Ns(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=to(r,e),i){case 0:t=Io(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=So(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(No(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=$o(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),ko(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fo(e,t,n);case 4:return Ws(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ii(Ss,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=$o(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=js(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),So(e,t,r,i=to(r.type,i),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ns(t,n),so(t,r,i),oo(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Hu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Wu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=$u(a);o.call(e)}}qu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=$u(a);s.call(e)}}var a=Bu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=$u(l);o.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,n,r)})),l}(n,t,e,i,r);return $u(a)}Wu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qu(e,t,null,null)},Wu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[pi]=null}},Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Xe()),0===(6&Tl)&&(Bl=Xe()+500,Bi()))}break;case 13:cu((function(){var t=Rs(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Gu(e,1)}},St=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=Rs(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));H(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ne=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ie,Ce,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=Hu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Hu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},876:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},929:(e,t,n)=>{"use strict";e.exports=n(643)},967:(e,t,n)=>{e.exports=n(147)()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Wi,SDK_VERSION:()=>ka,_DEFAULT_ENTRY_NAME:()=>la,_addComponent:()=>fa,_addOrOverwriteComponent:()=>pa,_apps:()=>ca,_clearComponents:()=>wa,_components:()=>da,_getProvider:()=>ga,_isFirebaseApp:()=>va,_isFirebaseServerApp:()=>ba,_registerComponent:()=>ma,_removeServiceInstance:()=>ya,_serverApps:()=>ha,deleteApp:()=>Aa,getApp:()=>Ta,getApps:()=>Na,initializeApp:()=>Ia,initializeServerApp:()=>Ca,onLog:()=>Pa,registerVersion:()=>Da,setLogLevel:()=>Oa});var t,r=n(565),i=n.t(r,2),s=n(501),a=n(396),o=n.t(a,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const u="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(_i){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,h=t.Pop,m=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){h=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:h,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let w={get action(){return h},get location(){return e(s,o)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(u,v),m=e,()=>{s.removeEventListener(u,v),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(w.location,e,n);r&&r(i,e),g=y()+1;let l=d(i,g),u=w.createHref(i);try{o.pushState(l,"",u)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(u)}a&&m&&m({action:h,location:w.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(w.location,e,n);r&&r(i,e),g=y();let s=d(i,g),l=w.createHref(i);o.replaceState(s,"",l),a&&m&&m({action:h,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=P(i);a=A(s[o],e,r)}return a}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=j([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=x(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:[\w-]+$/,_=3,E=2,k=1,I=10,C=-2,T=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=C),t&&(r+=E),n.filter((e=>!T(e))).reduce(((e,t)=>e+(S.test(t)?_:""===t?k:I)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:j([s,c.pathname]),pathnameBase:z(j([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=j([s,c.pathnameBase]))}return a}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:U(i)}}(i,s),h=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const j=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],$=(new Set(q),["get",...q]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=r.createContext(null);const H=r.createContext(null);const Q=r.createContext(null);const W=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const X=r.createContext(null);function J(){return null!=r.useContext(W)}function Z(){return J()||c(!1),r.useContext(W).location}function ee(e){r.useContext(Q).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(ce.UseNavigateStable),n=r.useRef(!1);return ee((()=>{n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))}),[e,t])}():function(){J()||c(!1);let e=r.useContext(G),{basename:t,future:n,navigator:i}=r.useContext(Q),{matches:s}=r.useContext(Y),{pathname:a}=Z(),o=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return ee((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=F(n,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:j([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,o,a,e])}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(Q),{matches:s}=r.useContext(Y),{pathname:a}=Z(),o=JSON.stringify(M(s,i.v7_relativeSplatPath));return r.useMemo((()=>F(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function re(e,n,i,s){J()||c(!1);let{navigator:a,static:o}=r.useContext(Q),{matches:l}=r.useContext(Y),u=l[l.length-1],h=u?u.params:{},d=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,p=Z();if(n){var g;let e="string"===typeof n?m(n):n;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||c(!1),f=e}else f=p;let y=f.pathname||"/",b=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!o&&i&&i.matches&&i.matches.length>0?i.matches:v(e,{pathname:b});let x=le(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:j([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:j([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,s);return n&&x?r.createElement(W.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},x):x}function ie(){let e=function(){var e;let t=r.useContext(X),n=de(ce.UseRouteError),i=fe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const se=r.createElement(ie,null);class ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function le(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight(((e,i,s)=>{let a,c=!1,d=null,f=null;var p;n&&(a=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||se,u&&(h<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):h===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?d:c?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function he(e){let t=r.useContext(G);return t||c(!1),t}function de(e){let t=r.useContext(H);return t||c(!1),t}function fe(e){let t=function(){let e=r.useContext(Y);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){c(!1)}function ye(e){let{basename:n="/",children:i=null,location:s,navigationType:a=t.Pop,navigator:o,static:l=!1,future:u}=e;J()&&c(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},u)})),[h,u,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,b=r.useMemo((()=>{let e=O(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:a}}),[h,f,p,g,y,v,a]);return null==b?null:r.createElement(Q.Provider,{value:d},r.createElement(W.Provider,{children:i,value:b}))}function ve(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise((()=>{}));r.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,s)),n.push(a)})),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(_i){}new Map;const _e=i.startTransition;o.flushSync,i.useId;function Ee(e){let{basename:t,children:n,future:i,window:s}=e,a=r.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,o)));let l=a.current,[u,c]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&_e?_e((()=>c(e))):c(e)}),[c,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.useEffect((()=>me(i)),[i]),r.createElement(ye,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:i})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:h,preventScrollReset:d,viewTransition:f}=e,m=xe(e,Se),{basename:g}=r.useContext(Q),y=!1;if("string"===typeof h&&Ie.test(h)&&(n=h,ke))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=O(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(_i){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;J()||c(!1);let{basename:i,navigator:s}=r.useContext(Q),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),u=o;return"/"!==i&&(u="/"===o?i:j([i,o])),s.createHref({pathname:u,search:l,hash:a})}(h,{relative:s}),b=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,u=te(),c=Z(),h=ne(e,{relative:o});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(c)===p(h);u(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[c,u,h,i,s,n,e,a,o,l])}(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:f});return r.createElement("a",we({},m,{href:n||v,onClick:y||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Te,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));const Ae={prefix:"fas",iconName:"money-bill",icon:[576,512,[],"f0d6","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zm64 320l-64 0 0-64c35.3 0 64 28.7 64 64zM64 192l0-64 64 0c0 35.3-28.7 64-64 64zM448 384c0-35.3 28.7-64 64-64l0 64-64 0zm64-192c-35.3 0-64-28.7-64-64l64 0 0 64zM288 160a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},De={prefix:"fas",iconName:"clipboard",icon:[384,512,[128203],"f328","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},Pe={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Oe=Pe,Re={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Le=Re,Me={prefix:"fas",iconName:"user-shield",icon:[640,512,[],"f505","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3l-91.4 0zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7l0-187.8L591.4 312z"]},Fe={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},je={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]};function ze(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Be=()=>{};let qe={},$e={},Ke=null,Ge={mark:Be,measure:Be};try{"undefined"!==typeof window&&(qe=window),"undefined"!==typeof document&&($e=document),"undefined"!==typeof MutationObserver&&(Ke=MutationObserver),"undefined"!==typeof performance&&(Ge=performance)}catch(_i){}const{userAgent:He=""}=qe.navigator||{},Qe=qe,We=$e,Ye=Ke,Xe=Ge,Je=(Qe.document,!!We.documentElement&&!!We.head&&"function"===typeof We.addEventListener&&"function"===typeof We.createElement),Ze=~He.indexOf("MSIE")||~He.indexOf("Trident/");var et={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},tt=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],nt="classic",rt="duotone",it=[nt,rt,"sharp","sharp-duotone"],st=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),at=["fak","fa-kit","fakd","fa-kit-duotone"],ot={fak:"kit","fa-kit":"kit"},lt={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},ut=["fak","fakd"],ct={kit:"fak"},ht={"kit-duotone":"fakd"},dt={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ft=["fak","fa-kit","fakd","fa-kit-duotone"],pt={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},mt=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],gt=[1,2,3,4,5,6,7,8,9,10],yt=gt.concat([11,12,13,14,15,16,17,18,19,20]),vt=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",dt.GROUP,dt.SWAP_OPACITY,dt.PRIMARY,dt.SECONDARY].concat(gt.map((e=>"".concat(e,"x")))).concat(yt.map((e=>"w-".concat(e))));const bt="___FONT_AWESOME___",wt=16,xt="svg-inline--fa",St="data-fa-i2svg",_t="data-fa-pseudo-element",Et="data-prefix",kt="data-icon",It="fontawesome-i2svg",Ct=["HTML","HEAD","STYLE","SCRIPT"],Tt=(()=>{try{return!0}catch(e){return!1}})();function Nt(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[nt]})}const At=Ue({},et);At[nt]=Ue(Ue(Ue(Ue({},{"fa-duotone":"duotone"}),et[nt]),ot),lt);const Dt=Nt(At),Pt=Ue({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});Pt[nt]=Ue(Ue(Ue(Ue({},{duotone:"fad"}),Pt[nt]),ct),ht);const Ot=Nt(Pt),Rt=Ue({},pt);Rt[nt]=Ue(Ue({},Rt[nt]),{fak:"fa-kit"});const Lt=Nt(Rt),Mt=Ue({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});Mt[nt]=Ue(Ue({},Mt[nt]),{"fa-kit":"fak"});Nt(Mt);const Ft=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,jt="fa-layers-text",zt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Vt=(Nt(Ue({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),Ut={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Bt=["kit",...vt],qt=Qe.FontAwesomeConfig||{};if(We&&"function"===typeof We.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=We.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(qt[n]=r)}))}const $t={styleDefault:"solid",familyDefault:nt,cssPrefix:"fa",replacementClass:xt,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};qt.familyPrefix&&(qt.cssPrefix=qt.familyPrefix);const Kt=Ue(Ue({},$t),qt);Kt.autoReplaceSvg||(Kt.observeMutations=!1);const Gt={};Object.keys($t).forEach((e=>{Object.defineProperty(Gt,e,{enumerable:!0,set:function(t){Kt[e]=t,Ht.forEach((e=>e(Gt)))},get:function(){return Kt[e]}})})),Object.defineProperty(Gt,"familyPrefix",{enumerable:!0,set:function(e){Kt.cssPrefix=e,Ht.forEach((e=>e(Gt)))},get:function(){return Kt.cssPrefix}}),Qe.FontAwesomeConfig=Gt;const Ht=[];const Qt=wt,Wt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Yt(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Xt(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Jt(e){return e.classList?Xt(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function Zt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function en(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function tn(e){return e.size!==Wt.size||e.x!==Wt.x||e.y!==Wt.y||e.rotate!==Wt.rotate||e.flipX||e.flipY}function nn(){const e="fa",t=xt,n=Gt.cssPrefix,r=Gt.replacementClass;let i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let rn=!1;function sn(){Gt.autoAddCss&&!rn&&(!function(e){if(!e||!Je)return;const t=We.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=We.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const e=n[i],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}We.head.insertBefore(t,r)}(nn()),rn=!0)}var an={mixout:()=>({dom:{css:nn,insertCss:sn}}),hooks:()=>({beforeDOMElementCreation(){sn()},beforeI2svg(){sn()}})};const on=Qe||{};on[bt]||(on[bt]={}),on[bt].styles||(on[bt].styles={}),on[bt].hooks||(on[bt].hooks={}),on[bt].shims||(on[bt].shims=[]);var ln=on[bt];const un=[],cn=function(){We.removeEventListener("DOMContentLoaded",cn),hn=1,un.map((e=>e()))};let hn=!1;function dn(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?Zt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(Zt(e[n]),'" ')),"").trim()}(n),">").concat(r.map(dn).join(""),"</").concat(t,">")}function fn(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Je&&(hn=(We.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(We.readyState),hn||We.addEventListener("DOMContentLoaded",cn));var pn=function(e,t,n,r){var i,s,a,o=Object.keys(e),l=o.length,u=void 0!==r?function(e,t){return function(n,r,i,s){return e.call(t,n,r,i,s)}}(t,r):t;for(void 0===n?(i=1,a=e[o[0]]):(i=0,a=n);i<l;i++)a=u(a,e[s=o[i]],s,e);return a};function mn(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function gn(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function yn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,i=gn(t);"function"!==typeof ln.hooks.addPack||r?ln.styles[e]=Ue(Ue({},ln.styles[e]||{}),i):ln.hooks.addPack(e,gn(t)),"fas"===e&&yn("fa",t)}const{styles:vn,shims:bn}=ln,wn=Object.keys(Lt),xn=wn.reduce(((e,t)=>(e[t]=Object.keys(Lt[t]),e)),{});let Sn=null,_n={},En={},kn={},In={},Cn={};function Tn(e,t){const n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||(s=i,~Bt.indexOf(s))?null:i;var s}const Nn=()=>{const e=e=>pn(vn,((t,n,r)=>(t[r]=pn(n,e,{}),t)),{});_n=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),En=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),Cn=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in vn||Gt.autoFetchSvg,n=pn(bn,((e,n)=>{const r=n[0];let i=n[1];const s=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:s}),e}),{names:{},unicodes:{}});kn=n.names,In=n.unicodes,Sn=Ln(Gt.styleDefault,{family:Gt.familyDefault})};var An;function Dn(e,t){return(_n[e]||{})[t]}function Pn(e,t){return(Cn[e]||{})[t]}function On(e){return kn[e]||{prefix:null,iconName:null}}function Rn(){return Sn}An=e=>{Sn=Ln(e.styleDefault,{family:Gt.familyDefault})},Ht.push(An),Nn();function Ln(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=nt}=t,r=Dt[n][e];if(n===rt&&!e)return"fad";const i=Ot[n][e]||Ot[n][r],s=e in ln.styles?e:null;return i||s||null}function Mn(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function Fn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const i=mt.concat(ft),s=Mn(e.filter((e=>i.includes(e)))),a=Mn(e.filter((e=>!mt.includes(e)))),o=s.filter((e=>(r=e,!tt.includes(e)))),[l=null]=o,u=function(e){let t=nt;const n=wn.reduce(((e,t)=>(e[t]="".concat(Gt.cssPrefix,"-").concat(t),e)),{});return it.forEach((r=>{(e.includes(n[r])||e.some((e=>xn[r].includes(e))))&&(t=r)})),t}(s),c=Ue(Ue({},function(e){let t=[],n=null;return e.forEach((e=>{const r=Tn(Gt.cssPrefix,e);r?n=r:e&&t.push(e)})),{iconName:n,rest:t}}(a)),{},{prefix:Ln(l,{family:u})});return Ue(Ue(Ue({},c),function(e){const{values:t,family:n,canonical:r,givenPrefix:i="",styles:s={},config:a={}}=e,o=n===rt,l=t.includes("fa-duotone")||t.includes("fad"),u="duotone"===a.familyDefault,c="fad"===r.prefix||"fa-duotone"===r.prefix;!o&&(l||u||c)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&jn.includes(n)){if(Object.keys(s).find((e=>zn.includes(e)))||a.autoFetchSvg){const e=st.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=Pn(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==i||(r.prefix=Rn()||"fas");return r}({values:e,family:u,styles:vn,config:Gt,canonical:c,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:i}=n;if(e||!r||!i)return{prefix:r,iconName:i};const s="fa"===t?On(i):{},a=Pn(r,i);i=s.iconName||a||i,r=s.prefix||r,"far"!==r||vn.far||!vn.fas||Gt.autoFetchSvg||(r="fas");return{prefix:r,iconName:i}}(n,r,c))}const jn=it.filter((e=>e!==nt||e!==rt)),zn=Object.keys(pt).filter((e=>e!==nt)).map((e=>Object.keys(pt[e]))).flat();let Vn=[],Un={};const Bn={},qn=Object.keys(Bn);function $n(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Un[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Un[e]||[]).forEach((e=>{e.apply(null,n)}))}function Gn(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Bn[e]?Bn[e].apply(null,t):void 0}function Hn(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Rn();if(t)return t=Pn(n,t)||t,fn(Qn.definitions,n,t)||fn(ln.styles,n,t)}const Qn=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]=Ue(Ue({},this.definitions[e]||{}),r[e]),yn(e,r[e]);const t=Lt[nt][e];t&&yn(t,r[e]),Nn()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:i,icon:s}=n[t],a=s[2];e[r]||(e[r]={}),a.length>0&&a.forEach((t=>{"string"===typeof t&&(e[r][t]=s)})),e[r][i]=s})),e}},Wn={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Je?(Kn("beforeI2svg",e),Gn("pseudoElements2svg",e),Gn("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===Gt.autoReplaceSvg&&(Gt.autoReplaceSvg=!0),Gt.observeMutations=!0,n=()=>{Jn({autoReplaceSvgRoot:t}),Kn("watch",e)},Je&&(hn?setTimeout(n,0):un.push(n))}},Yn={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Pn(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Ln(e[0]);return{prefix:n,iconName:Pn(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Gt.cssPrefix,"-"))>-1||e.match(Ft))){const t=Fn(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Rn(),iconName:Pn(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=Rn();return{prefix:t,iconName:Pn(t,e)||e}}}},Xn={noAuto:()=>{Gt.autoReplaceSvg=!1,Gt.observeMutations=!1,Kn("noAuto")},config:Gt,dom:Wn,parse:Yn,library:Qn,findIconDefinition:Hn,toHtml:dn},Jn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=We}=e;(Object.keys(ln.styles).length>0||Gt.autoFetchSvg)&&Je&&Gt.autoReplaceSvg&&Xn.dom.i2svg({node:t})};function Zn(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>dn(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!Je)return;const t=We.createElement("div");return t.innerHTML=e.html,t.children}}),e}function er(e){const{icons:{main:t,mask:n},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:l,titleId:u,extra:c,watchable:h=!1}=e,{width:d,height:f}=n.found?n:t,p=ut.includes(r),m=[Gt.replacementClass,i?"".concat(Gt.cssPrefix,"-").concat(i):""].filter((e=>-1===c.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(c.classes).join(" ");let g={children:[],attributes:Ue(Ue({},c.attributes),{},{"data-prefix":r,"data-icon":i,class:m,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(f)})};const y=p&&!~c.classes.indexOf("fa-fw")?{width:"".concat(d/f*16*.0625,"em")}:{};h&&(g.attributes[St]=""),o&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(u||Yt())},children:[o]}),delete g.attributes.title);const v=Ue(Ue({},g),{},{prefix:r,iconName:i,main:t,mask:n,maskId:l,transform:s,symbol:a,styles:Ue(Ue({},y),c.styles)}),{children:b,attributes:w}=n.found&&t.found?Gn("generateAbstractMask",v)||{children:[],attributes:{}}:Gn("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=b,v.attributes=w,a?function(e){let{prefix:t,iconName:n,children:r,attributes:i,symbol:s}=e;const a=!0===s?"".concat(t,"-").concat(Gt.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ue(Ue({},i),{},{id:a}),children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:i,styles:s,transform:a}=e;if(tn(a)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};i.style=en(Ue(Ue({},s),{},{"transform-origin":"".concat(r.x+a.x/16,"em ").concat(r.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(v)}function tr(e){const{content:t,width:n,height:r,transform:i,title:s,extra:a,watchable:o=!1}=e,l=Ue(Ue(Ue({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});o&&(l[St]="");const u=Ue({},a.styles);tn(i)&&(u.transform=function(e){let{transform:t,width:n=wt,height:r=wt,startCentered:i=!1}=e,s="";return s+=i&&Ze?"translate(".concat(t.x/Qt-n/2,"em, ").concat(t.y/Qt-r/2,"em) "):i?"translate(calc(-50% + ".concat(t.x/Qt,"em), calc(-50% + ").concat(t.y/Qt,"em)) "):"translate(".concat(t.x/Qt,"em, ").concat(t.y/Qt,"em) "),s+="scale(".concat(t.size/Qt*(t.flipX?-1:1),", ").concat(t.size/Qt*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const c=en(u);c.length>0&&(l.style=c);const h=[];return h.push({tag:"span",attributes:l,children:[t]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}const{styles:nr}=ln;function rr(e){const t=e[0],n=e[1],[r]=e.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Gt.cssPrefix,"-").concat(Ut.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Gt.cssPrefix,"-").concat(Ut.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Gt.cssPrefix,"-").concat(Ut.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:i}}const ir={found:!1,width:512,height:512};function sr(e,t){let n=t;return"fa"===t&&null!==Gt.styleDefault&&(t=Rn()),new Promise(((r,i)=>{if("fa"===n){const n=On(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&nr[t]&&nr[t][e]){return r(rr(nr[t][e]))}!function(e,t){Tt||Gt.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Ue(Ue({},ir),{},{icon:Gt.showMissingIcons&&e&&Gn("missingIconAbstract")||{}}))}))}const ar=()=>{},or=Gt.measurePerformance&&Xe&&Xe.mark&&Xe.measure?Xe:{mark:ar,measure:ar},lr='FA "6.7.2"',ur=e=>{or.mark("".concat(lr," ").concat(e," ends")),or.measure("".concat(lr," ").concat(e),"".concat(lr," ").concat(e," begins"),"".concat(lr," ").concat(e," ends"))};var cr=e=>(or.mark("".concat(lr," ").concat(e," begins")),()=>ur(e));const hr=()=>{};function dr(e){return"string"===typeof(e.getAttribute?e.getAttribute(St):null)}function fr(e){return We.createElementNS("http://www.w3.org/2000/svg",e)}function pr(e){return We.createElement(e)}function mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?fr:pr)}=t;if("string"===typeof e)return We.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(mr(e,{ceFn:n}))})),r}const gr={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(mr(e),t)})),null===t.getAttribute(St)&&Gt.keepOriginalSource){let e=We.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Jt(t).indexOf(Gt.replacementClass))return gr.replace(e);const r=new RegExp("".concat(Gt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===Gt.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const i=n.map((e=>dn(e))).join("\n");t.setAttribute(St,""),t.innerHTML=i}};function yr(e){e()}function vr(e,t){const n="function"===typeof t?t:hr;if(0===e.length)n();else{let t=yr;"async"===Gt.mutateApproach&&(t=Qe.requestAnimationFrame||yr),t((()=>{const t=!0===Gt.autoReplaceSvg?gr.replace:gr[Gt.autoReplaceSvg]||gr.replace,r=cr("mutate");e.map(t),r(),n()}))}}let br=!1;function wr(){br=!0}function xr(){br=!1}let Sr=null;function _r(e){if(!Ye)return;if(!Gt.observeMutations)return;const{treeCallback:t=hr,nodeCallback:n=hr,pseudoElementsCallback:r=hr,observeMutationsRoot:i=We}=e;Sr=new Ye((e=>{if(br)return;const i=Rn();Xt(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!dr(e.addedNodes[0])&&(Gt.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&Gt.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&dr(e.target)&&~Vt.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(Et):null,n=e.getAttribute?e.getAttribute(kt):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=Fn(Jt(e.target));e.target.setAttribute(Et,t||i),n&&e.target.setAttribute(kt,n)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(Gt.replacementClass)&&n(e.target);var s}))})),Je&&Sr.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Er(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let i=Fn(Jt(e));return i.prefix||(i.prefix=Rn()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(En[e]||{})[t]}(i.prefix,e.innerText)||Dn(i.prefix,mn(e.innerText))),!i.iconName&&Gt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function kr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=Er(e),s=function(e){const t=Xt(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Gt.autoA11y&&(n?t["aria-labelledby"]="".concat(Gt.replacementClass,"-title-").concat(r||Yt()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),a=$n("parseNodeAttributes",{},e);let o=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return Ue({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Wt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s}},a)}const{styles:Ir}=ln;function Cr(e){const t="nest"===Gt.autoReplaceSvg?kr(e,{styleParser:!1}):kr(e);return~t.extra.classes.indexOf(jt)?Gn("generateLayersText",e,t):Gn("generateSvgReplacementMutation",e,t)}function Tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Je)return Promise.resolve();const n=We.documentElement.classList,r=e=>n.add("".concat(It,"-").concat(e)),i=e=>n.remove("".concat(It,"-").concat(e)),s=Gt.autoFetchSvg?[...at,...mt]:tt.concat(Object.keys(Ir));s.includes("fa")||s.push("fa");const a=[".".concat(jt,":not([").concat(St,"])")].concat(s.map((e=>".".concat(e,":not([").concat(St,"])")))).join(", ");if(0===a.length)return Promise.resolve();let o=[];try{o=Xt(e.querySelectorAll(a))}catch(c){}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");const l=cr("onTree"),u=o.reduce(((e,t)=>{try{const n=Cr(t);n&&e.push(n)}catch(c){Tt||"MissingIcon"===c.name&&console.error(c)}return e}),[]);return new Promise(((e,n)=>{Promise.all(u).then((n=>{vr(n,(()=>{r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function Nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Cr(e).then((e=>{e&&vr([e],t)}))}const Ar=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Wt,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:l=[],attributes:u={},styles:c={}}=t;if(!e)return;const{prefix:h,iconName:d,icon:f}=e;return Zn(Ue({type:"icon"},e),(()=>(Kn("beforeDOMElementCreation",{iconDefinition:e,params:t}),Gt.autoA11y&&(a?u["aria-labelledby"]="".concat(Gt.replacementClass,"-title-").concat(o||Yt()):(u["aria-hidden"]="true",u.focusable="false")),er({icons:{main:rr(f),mask:i?rr(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:d,transform:Ue(Ue({},Wt),n),symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:u,styles:c,classes:l}}))))};var Dr={mixout(){return{icon:(e=Ar,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:Hn(t||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Hn(i||{})),e(r,Ue(Ue({},n),{},{mask:i}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Tr,e.nodeCallback=Nr,e)}),provides(e){e.i2svg=function(e){const{node:t=We,callback:n=()=>{}}=e;return Tr(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:i,prefix:s,transform:a,symbol:o,mask:l,maskId:u,extra:c}=t;return new Promise(((t,h)=>{Promise.all([sr(n,s),l.iconName?sr(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[h,d]=l;t([e,er({icons:{main:h,mask:d},prefix:s,iconName:n,transform:a,symbol:o,maskId:u,title:r,titleId:i,extra:c,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:i,styles:s}=e;const a=en(s);let o;return a.length>0&&(n.style=a),tn(i)&&(o=Gn("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),t.push(o||r.icon),{children:t,attributes:n}}}},Pr={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return Zn({type:"layer"},(()=>{Kn("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Gt.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},Or={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=t;return Zn({type:"counter",content:e},(()=>(Kn("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,i=Ue(Ue(Ue({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=en(r.styles);s.length>0&&(i.style=s);const a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Gt.cssPrefix,"-layers-counter"),...r]}}))))}})},Rr={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Wt,title:r=null,classes:i=[],attributes:s={},styles:a={}}=t;return Zn({type:"text",content:e},(()=>(Kn("beforeDOMElementCreation",{content:e,params:t}),tr({content:e,transform:Ue(Ue({},Wt),n),title:r,extra:{attributes:s,styles:a,classes:["".concat(Gt.cssPrefix,"-layers-text"),...i]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:i}=t;let s=null,a=null;if(Ze){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();s=n.width/t,a=n.height/t}return Gt.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,tr({content:e.innerHTML,width:s,height:a,transform:r,title:n,extra:i,watchable:!0})])}}};const Lr=new RegExp('"',"ug"),Mr=[1105920,1112319],Fr=Ue(Ue(Ue(Ue({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),jr=Object.keys(Fr).reduce(((e,t)=>(e[t.toLowerCase()]=Fr[t],e)),{}),zr=Object.keys(jr).reduce(((e,t)=>{const n=jr[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function Vr(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,i)=>{if(null!==e.getAttribute(n))return r();const s=Xt(e.children).filter((e=>e.getAttribute(_t)===t))[0],a=Qe.getComputedStyle(e,t),o=a.getPropertyValue("font-family"),l=o.match(zt),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(s&&!l)return e.removeChild(s),r();if(l&&"none"!==c&&""!==c){const c=a.getPropertyValue("content");let h=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(jr[n]||{})[i]||zr[n]}(o,u);const{value:d,isSecondary:f}=function(e){const t=e.replace(Lr,""),n=function(e,t){const n=e.length;let r,i=e.charCodeAt(t);return i>=55296&&i<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(i-55296)+r-56320+65536:i}(t,0),r=n>=Mr[0]&&n<=Mr[1],i=2===t.length&&t[0]===t[1];return{value:mn(i?t[0]:t),isSecondary:r||i}}(c),p=l[0].startsWith("FontAwesome");let m=Dn(h,d),g=m;if(p){const e=function(e){const t=In[e],n=Dn("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);e.iconName&&e.prefix&&(m=e.iconName,h=e.prefix)}if(!m||f||s&&s.getAttribute(Et)===h&&s.getAttribute(kt)===g)r();else{e.setAttribute(n,g),s&&e.removeChild(s);const a={iconName:null,title:null,titleId:null,prefix:null,transform:Wt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:o}=a;o.attributes[_t]=t,sr(m,h).then((i=>{const s=er(Ue(Ue({},a),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:g,extra:o,watchable:!0})),l=We.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map((e=>dn(e))).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function Ur(e){return Promise.all([Vr(e,"::before"),Vr(e,"::after")])}function Br(e){return e.parentNode!==document.head&&!~Ct.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(_t)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function qr(e){if(Je)return new Promise(((t,n)=>{const r=Xt(e.querySelectorAll("*")).filter(Br).map(Ur),i=cr("searchPseudoElements");wr(),Promise.all(r).then((()=>{i(),xr(),t()})).catch((()=>{i(),xr(),n()}))}))}var $r={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=qr,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=We}=e;Gt.searchPseudoElements&&qr(t)}}};let Kr=!1;var Gr={mixout:()=>({dom:{unwatch(){wr(),Kr=!0}}}),hooks:()=>({bootstrap(){_r($n("mutationObserverCallbacks",{}))},noAuto(){Sr&&Sr.disconnect()},watch(e){const{observeMutationsRoot:t}=e;Kr?xr():_r($n("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const Hr=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var Qr={mixout:()=>({parse:{transform:e=>Hr(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=Hr(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:i}=e;const s={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),u={outer:s,inner:{transform:"".concat(a," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Ue({},u.outer),children:[{tag:"g",attributes:Ue({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Ue(Ue({},t.icon.attributes),u.path)}]}]}}}};const Wr={x:0,y:0,width:"100%",height:"100%"};function Yr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Xr={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Fn(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Rn()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:i,maskId:s,transform:a}=e;const{width:o,icon:l}=r,{width:u,icon:c}=i,h=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:a,containerWidth:u,iconWidth:o}),d={tag:"rect",attributes:Ue(Ue({},Wr),{},{fill:"white"})},f=l.children?{children:l.children.map(Yr)}:{},p={tag:"g",attributes:Ue({},h.inner),children:[Yr(Ue({tag:l.tag,attributes:Ue(Ue({},l.attributes),h.path)},f))]},m={tag:"g",attributes:Ue({},h.outer),children:[p]},g="mask-".concat(s||Yt()),y="clip-".concat(s||Yt()),v={tag:"mask",attributes:Ue(Ue({},Wr),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(w=c,"g"===w.tag?w.children:[w])},v]};var w;return t.push(b,{tag:"rect",attributes:Ue({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},Wr)}),{children:t,attributes:n}}}},Jr={provides(e){let t=!1;Qe.matchMedia&&(t=Qe.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Ue(Ue({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=Ue(Ue({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:Ue(Ue({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:Ue(Ue({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ue(Ue({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:Ue(Ue({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ue(Ue({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Ue(Ue({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ue(Ue({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;Vn=e,Un={},Object.keys(Bn).forEach((e=>{-1===qn.indexOf(e)&&delete Bn[e]})),Vn.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{Un[e]||(Un[e]=[]),Un[e].push(t[e])}))}e.provides&&e.provides(Bn)}))}([an,Dr,Pr,Or,Rr,$r,Gr,Qr,Xr,Jr,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:Xn});const Zr=Xn.parse,ei=Xn.icon;var ti=n(967),ni=n.n(ti);function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function li(e){return function(e){if(Array.isArray(e))return ui(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var hi=["style"];var di=!1;try{di=!0}catch(_i){}function fi(e){return e&&"object"===si(e)&&e.prefix&&e.iconName&&e.icon?e:Zr.icon?Zr.icon(e):null===e?null:e&&"object"===si(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function pi(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ai({},e,t):{}}var mi={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},gi=r.forwardRef((function(e,t){var n=ii(ii({},mi),e),r=n.icon,i=n.mask,s=n.symbol,a=n.className,o=n.title,l=n.titleId,u=n.maskId,c=fi(r),h=pi("classes",[].concat(li(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,s=e.bounce,a=e.shake,o=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,h=e.pulse,d=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,y=e.size,v=e.rotation,b=e.pull,w=(ai(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":d,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),ai(t,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),ai(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),ai(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),li((a||"").split(" ")))),d=pi("transform","string"===typeof n.transform?Zr.transform(n.transform):n.transform),f=pi("mask",fi(i)),p=ei(c,ii(ii(ii(ii({},h),d),f),{},{symbol:s,title:o,titleId:l,maskId:u}));if(!p)return function(){var e;!di&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach((function(e){mi.hasOwnProperty(e)||(g[e]=n[e])})),yi(m[0],g)}));gi.displayName="FontAwesomeIcon",gi.propTypes={beat:ni().bool,border:ni().bool,beatFade:ni().bool,bounce:ni().bool,className:ni().string,fade:ni().bool,flash:ni().bool,mask:ni().oneOfType([ni().object,ni().array,ni().string]),maskId:ni().string,fixedWidth:ni().bool,inverse:ni().bool,flip:ni().oneOf([!0,!1,"horizontal","vertical","both"]),icon:ni().oneOfType([ni().object,ni().array,ni().string]),listItem:ni().bool,pull:ni().oneOf(["right","left"]),pulse:ni().bool,rotation:ni().oneOf([0,90,180,270]),shake:ni().bool,size:ni().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ni().bool,spinPulse:ni().bool,spinReverse:ni().bool,symbol:ni().oneOfType([ni().bool,ni().string]),title:ni().string,titleId:ni().string,transform:ni().oneOfType([ni().string,ni().object]),swapOpacity:ni().bool};var yi=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),s=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=ci(t.slice(0,r)),s=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[i]=s,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[ci(t)]=r}return e}),{attrs:{}}),a=r.style,o=void 0===a?{}:a,l=oi(r,hi);return s.attrs.style=ii(ii({},s.attrs.style),o),t.apply(void 0,[n.tag,ii(ii({},s.attrs),l)].concat(li(i)))}.bind(null,r.createElement),vi=n(929);function bi(e){let{setShowSidebarCart:t,selectedProducts:n}=e;const[i,s]=(0,r.useState)(!1),a=te(),o=e=>{a(e),window.scrollTo({top:0,behavior:"smooth"}),s(!1)};return(0,vi.jsx)("div",{className:"nav",children:(0,vi.jsxs)("div",{className:"inner-content",children:[(0,vi.jsxs)("h1",{className:"logo",children:["Mercado",(0,vi.jsx)("span",{children:"Patrocinado"})]}),(0,vi.jsx)("button",{className:"menu-button",onClick:()=>s(!i),children:(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/menu.png",alt:"Menu"})}),(0,vi.jsx)("div",{className:"mobile-menu "+(i?"show":""),children:(0,vi.jsxs)("ul",{children:[(0,vi.jsxs)("h1",{children:["Mercado",(0,vi.jsx)("span",{children:" Menu"})]}),(0,vi.jsx)("li",{onClick:()=>o("/"),children:"Inicio"}),(0,vi.jsx)("li",{onClick:()=>o("/products"),children:"Produtos"}),(0,vi.jsx)("li",{onClick:()=>o("/about"),children:"Patrocinados"}),(0,vi.jsx)("li",{onClick:()=>o("/contact"),children:"Contato"})]})}),(0,vi.jsx)("nav",{children:(0,vi.jsxs)("ul",{children:[(0,vi.jsx)("li",{onClick:()=>o("/"),children:"Come\xe7o"}),(0,vi.jsx)("li",{onClick:()=>o("/products"),children:"Produtos"}),(0,vi.jsx)("li",{onClick:()=>o("/about"),children:"Patrocinados"}),(0,vi.jsx)("li",{onClick:()=>o("/contact"),children:"Contato"})]})}),(0,vi.jsxs)("div",{className:"navs-icon-container",children:[(0,vi.jsxs)("div",{className:"search-input-container",children:[(0,vi.jsx)("input",{type:"search",placeholder:"Procurar"}),(0,vi.jsx)(gi,{icon:Le})]}),(0,vi.jsxs)("button",{className:"shopping-cart",onClick:()=>t(!0),children:[(0,vi.jsx)(gi,{icon:Oe}),(0,vi.jsx)("div",{className:"products-count",children:n.length})]})]})]})})}function wi(){return(0,vi.jsxs)("div",{className:"page-inner-contentt",children:[(0,vi.jsxs)("div",{className:"testimonialss",children:[(0,vi.jsxs)("div",{className:"testimoniall",children:[(0,vi.jsx)("p",{children:'"'}),(0,vi.jsx)("p",{children:"\xc9 muito importante para o colaborador que ele seja reconhecido pelo bom trabalho que faz. \xc9 simples: o reconhecimento gera engajamento e satisfa\xe7\xe3o e isso resulta em produtividade."}),(0,vi.jsx)("p",{className:"rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,vi.jsx)("p",{children:"Koba Lamine"})]}),(0,vi.jsxs)("div",{className:"testimoniall",children:[(0,vi.jsx)("p",{children:'"'}),(0,vi.jsx)("p",{children:"A pr\xe1tica do trabalho em equipe com respeito, lealdade, generosidade, empatia, transpar\xeancia, s\xe3o fatores essenciais para uma conduta \xe9tica e vencedora."}),(0,vi.jsx)("p",{className:"rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,vi.jsx)("p",{children:"Jeff Dennys"})]}),(0,vi.jsxs)("div",{className:"testimoniall",children:[(0,vi.jsx)("p",{children:'"'}),(0,vi.jsx)("p",{children:"Voc\xea n\xe3o precisa de incentivos pra buscar o que quer, nem de reconhecimento pra se sentir satisfeito pelo seu esfor\xe7o, n\xe3o espere gratid\xe3o, apenas d\xea o seu melhor."}),(0,vi.jsx)("p",{className:"rating",children:"\u2605\u2605\u2605\u2605\u2605"}),(0,vi.jsx)("p",{children:"Monza Salah"})]})]}),(0,vi.jsx)("div",{children:(0,vi.jsxs)("footer",{children:[(0,vi.jsxs)("div",{className:"pager-inner-content content",children:[(0,vi.jsxs)("div",{className:"download-options",children:[(0,vi.jsxs)("p",{children:["Baixe o nosso aplicativo  ",(0,vi.jsx)("br",{}),"Baixe o nosso aplicativo para Android e iOS"]}),(0,vi.jsxs)("div",{children:[(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/app-store.png",alt:"App Store download"}),(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/play-store.png",alt:"Play Store download"})]})]}),(0,vi.jsxs)("div",{className:"logo-footer",children:[(0,vi.jsxs)("h1",{className:"logoo",children:["Mercado",(0,vi.jsx)("span",{children:"Patrocinado"})]}),(0,vi.jsx)("p",{children:"Tudo o que voc\xea precisa chegar\xe1 at\xe9 voc\xea."})]}),(0,vi.jsxs)("div",{className:"links",children:[(0,vi.jsx)("h3",{children:"Links \xfateis"}),(0,vi.jsxs)("ul",{children:[(0,vi.jsx)("li",{children:(0,vi.jsx)(Ce,{to:"/",children:"Cupons"})}),(0,vi.jsx)("li",{children:(0,vi.jsx)(Ce,{to:"/",children:"Blog posts"})}),(0,vi.jsx)("li",{children:(0,vi.jsx)(Ce,{to:"/",children:"Pol\xedticas"})}),(0,vi.jsx)("li",{children:(0,vi.jsx)(Ce,{to:"/",children:"Torne-se afiliado"})})]})]})]}),(0,vi.jsxs)("div",{className:"pager-inner-content",children:[(0,vi.jsx)("hr",{}),(0,vi.jsx)("p",{className:"copyright",children:"Copyright 2010 - Koba Lamine - Todos Direitos Reservados."})]})]})})]})}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(this,arguments)}var Si={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(e){},onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}},_i=new(function(){function e(){}var t=e.prototype;return t.load=function(e,t,n){if(e.el="string"==typeof n?document.querySelector(n):n,e.options=xi({},Si,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map((function(e){return e.trim()})),e.stringsElement="string"==typeof e.options.stringsElement?document.querySelector(e.options.stringsElement):e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var r=Array.prototype.slice.apply(e.stringsElement.children),i=r.length;if(i)for(var s=0;s<i;s+=1)e.strings.push(r[s].innerHTML.trim())}for(var a in e.strPos=0,e.currentElContent=this.getCurrentElContent(e),e.currentElContent&&e.currentElContent.length>0&&(e.strPos=e.currentElContent.length-1,e.strings.unshift(e.currentElContent)),e.sequence=[],e.strings)e.sequence[a]=a;e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.autoInsertCss=e.options.autoInsertCss,e.autoInsertCss&&(this.appendCursorAnimationCss(e),this.appendFadeOutAnimationCss(e))},t.getCurrentElContent=function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent},t.appendCursorAnimationCss=function(e){var t="data-typed-js-cursor-css";if(e.showCursor&&!document.querySelector("["+t+"]")){var n=document.createElement("style");n.setAttribute(t,"true"),n.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(n)}},t.appendFadeOutAnimationCss=function(e){var t="data-typed-fadeout-js-css";if(e.fadeOut&&!document.querySelector("["+t+"]")){var n=document.createElement("style");n.setAttribute(t,"true"),n.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(n)}},e}()),Ei=new(function(){function e(){}var t=e.prototype;return t.typeHtmlChars=function(e,t,n){if("html"!==n.contentType)return t;var r=e.substring(t).charAt(0);if("<"===r||"&"===r){var i;for(i="<"===r?">":";";e.substring(t+1).charAt(0)!==i&&!(1+ ++t>e.length););t++}return t},t.backSpaceHtmlChars=function(e,t,n){if("html"!==n.contentType)return t;var r=e.substring(t).charAt(0);if(">"===r||";"===r){var i;for(i=">"===r?"<":"&";e.substring(t-1).charAt(0)!==i&&!(--t<0););t--}return t},e}()),ki=function(){function e(e,t){_i.load(this,t,e),this.begin()}var t=e.prototype;return t.toggle=function(){this.pause.status?this.start():this.stop()},t.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},t.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},t.destroy=function(){this.reset(!1),this.options.onDestroy(this)},t.reset=function(e){void 0===e&&(e=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())},t.begin=function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout((function(){0===e.strPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos):e.backspace(e.strings[e.sequence[e.arrayPos]],e.strPos)}),this.startDelay)},t.typewrite=function(e,t){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var r=this.humanizer(this.typeSpeed),i=1;!0!==this.pause.status?this.timeout=setTimeout((function(){t=Ei.typeHtmlChars(e,t,n);var r=0,s=e.substring(t);if("^"===s.charAt(0)&&/^\^\d+/.test(s)){var a=1;a+=(s=/\d+/.exec(s)[0]).length,r=parseInt(s),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),e=e.substring(0,t)+e.substring(t+a),n.toggleBlinking(!0)}if("`"===s.charAt(0)){for(;"`"!==e.substring(t+i).charAt(0)&&(i++,!(t+i>e.length)););var o=e.substring(0,t),l=e.substring(o.length+1,t+i),u=e.substring(t+i+1);e=o+l+u,i--}n.timeout=setTimeout((function(){n.toggleBlinking(!1),t>=e.length?n.doneTyping(e,t):n.keepTyping(e,t,i),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))}),r)}),r):this.setPauseStatus(e,t,!0)},t.keepTyping=function(e,t,n){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var r=e.substring(0,t+=n);this.replaceText(r),this.typewrite(e,t)},t.doneTyping=function(e,t){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout((function(){n.backspace(e,t)}),this.backDelay))},t.backspace=function(e,t){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var r=this.humanizer(this.backSpeed);this.timeout=setTimeout((function(){t=Ei.backSpaceHtmlChars(e,t,n);var r=e.substring(0,t);if(n.replaceText(r),n.smartBackspace){var i=n.strings[n.arrayPos+1];n.stopNum=i&&r===i.substring(0,t)?t:0}t>n.stopNum?(t--,n.backspace(e,t)):t<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],t))}),r)}else this.setPauseStatus(e,t,!1)},t.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},t.setPauseStatus=function(e,t,n){this.pause.typewrite=n,this.pause.curString=e,this.pause.curStrPos=t},t.toggleBlinking=function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},t.humanizer=function(e){return Math.round(Math.random()*e/2)+e},t.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort((function(){return Math.random()-.5})))},t.initFadeOut=function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout((function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)}),this.fadeOutDelay)},t.replaceText=function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e},t.bindFocusEvents=function(){var e=this;this.isInput&&(this.el.addEventListener("focus",(function(t){e.stop()})),this.el.addEventListener("blur",(function(t){e.el.value&&0!==e.el.value.length||e.start()})))},t.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},e}();function Ii(){return(0,r.useEffect)((()=>{const e=new ki(".typed",{strings:['<span class="color1">Atendimento</span> <span class="color2">Exclusivo!</span>','<span class="color1">Ofertas e Sem </span> <span class="color2"> Juros !</span>','<span class="color1">Para Todos os</span> <span class="color2">Clientes !</span>','<span class="color1">Venha conferir</span> <span class="color2">!!!</span>'],typeSpeed:100,backSpeed:100,loop:!0});return()=>{e.destroy()}}),[]),(0,vi.jsxs)("header",{children:[(0,vi.jsx)("div",{className:"header-background",children:(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/IMAGEM334.avif",alt:"featured-products-image"})}),(0,vi.jsxs)("div",{className:"inner-content",children:[(0,vi.jsxs)("div",{className:"left-side",children:[(0,vi.jsxs)("div",{className:"hero-container","data-aos":"fade-in",children:[(0,vi.jsx)("h1",{children:"Alcance Todas as suas Metas em um s\xf3 Lugar"}),(0,vi.jsxs)("div",{className:"search-container",children:[(0,vi.jsx)("input",{type:"text",placeholder:"Buscar produtos..."}),(0,vi.jsx)("button",{type:"submit",children:"Enviar"})]})]}),(0,vi.jsx)("h2",{children:"Agende seu Atendimento"}),(0,vi.jsx)("p",{children:(0,vi.jsx)("span",{className:"typed"})}),(0,vi.jsx)("p",{})]}),(0,vi.jsx)("div",{className:"right-side",children:(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/plano3.png",alt:"Product"})})]})]})}function Ci(e){let{id:t,image:n,name:r,rating:i,price:s,originalPrice:a,installmentPrice:o,maxInstallments:l,addProductToCart:u}=e;const c=te(),h="\u2605".repeat(i)+"\u2605".repeat(6-i),d=e=>{if(e){const t=e.toString();return parseFloat(t.replace(/[^\d,]/g,"").replace(",",".")).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return null},f=d(s),p=a?d(a):null,m=o?d(o):null;return(0,vi.jsxs)("div",{className:"product",children:[(0,vi.jsx)("img",{src:`/mercadoPatrocinado/${n}`,alt:r,className:"product-image"}),(0,vi.jsx)("p",{className:"product-name",children:r}),(0,vi.jsx)("p",{className:"product-rating",children:h}),(0,vi.jsxs)("div",{className:"product-price-container",children:[p&&p!==f?(0,vi.jsxs)(vi.Fragment,{children:[(0,vi.jsx)("p",{className:"product-price original-price",style:{textDecoration:"line-through",color:"red"},children:p}),(0,vi.jsx)("p",{className:"product-price promotion-price",style:{fontWeight:"bold"},children:f})]}):(0,vi.jsx)("p",{className:"product-price",children:f}),m&&l&&(0,vi.jsx)("p",{className:"product-installments",children:`Ou ${l}x de ${m} sem juros`})]}),(0,vi.jsxs)("div",{className:"buttons",children:[(0,vi.jsxs)("button",{onClick:()=>{u({id:t,name:r,price:s,image:n}),window.scrollTo({top:0,behavior:"smooth"}),setTimeout((()=>{c(`/checkout?id=${t}&name=${encodeURIComponent(r)}&price=${encodeURIComponent(s)}&image=${encodeURIComponent(n)}&cartTotal=${encodeURIComponent(s)}`)}),500)},className:"btn-icon buy-now-btn",children:[(0,vi.jsx)("span",{children:"Comprar Agora"}),(0,vi.jsx)(gi,{icon:Ae})]}),(0,vi.jsxs)("button",{onClick:()=>{u({id:t,name:r,price:s,image:n})},className:"btn-icon add-to-cart-btn",children:[(0,vi.jsx)("span",{children:"Adicionar ao Carrinho"}),(0,vi.jsx)(gi,{icon:Pe})]})]})]})}function Ti(e){let{products:t,addProductToCart:n}=e;return(0,vi.jsx)("div",{className:"product-list",children:t.map((e=>(0,vi.jsx)(Ci,{...e,addProductToCart:n},e.id)))})}function Ni(e){return(0,vi.jsx)("div",{children:(0,vi.jsx)("div",{className:"exclusive-section",children:(0,vi.jsx)("div",{className:"page-inner-contentt",children:(0,vi.jsxs)("div",{className:"content",children:[(0,vi.jsxs)("div",{className:"left-side",children:[(0,vi.jsx)("h2",{children:"Relogio Smart "}),(0,vi.jsx)("p",{children:"Rel\xf3gio Inteligente original com tela grande Touch Screen digital ou anal\xf3gico, com um design moderno e elegante. Este rel\xf3gio inteligente \xe9 perfeito para quem busca praticidade e tecnologia."}),(0,vi.jsxs)(Ce,{to:"products",className:"see-more-btnn",children:[(0,vi.jsx)("span",{children:"Ver Agora"}),(0,vi.jsx)(gi,{icon:je})]})]}),(0,vi.jsx)("div",{className:"right-sideee",children:(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/exclusive.png",alt:"Smart Band"})})]})})})})}function Ai(){return(0,vi.jsx)("div",{className:"page-inner-contenttt",children:(0,vi.jsxs)("div",{className:"imagensMeio",children:[(0,vi.jsx)("div",{className:"imagensMeio2",children:(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/products/orfetass.jpg",alt:"products"})}),(0,vi.jsx)("div",{className:"imagensMeio2",children:(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/promo.jpg",alt:"products",className:"headerI"})}),(0,vi.jsx)("div",{className:"imagensMeio2",children:(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/products/orfetas.jpg",alt:"products",className:"headerIM"})})]})})}function Di(e){let{products:t,addProductToCart:n}=e;return(0,vi.jsxs)(vi.Fragment,{children:[(0,vi.jsx)(Ii,{}),(0,vi.jsxs)("div",{className:"right-sidee",children:[(0,vi.jsx)("h1",{children:"Compromisso com a Sua Entrega!"}),(0,vi.jsx)("p",{className:"comercial",children:"Monitoramos cada etapa da Entrega para Garantir que seu Produto chegue com Rapidez e Seguran\xe7a ao Destino !"}),(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/comprar-online.jpg",alt:"Product"})]}),(0,vi.jsxs)("div",{className:"page-inner-content",children:[(0,vi.jsxs)("div",{className:"section-title",children:[(0,vi.jsx)("h3",{children:"Produto Pratrocinado Ofertas"}),(0,vi.jsx)("div",{className:"underline"})]}),(0,vi.jsx)("div",{className:"main-content",children:(0,vi.jsx)(Ti,{addProductToCart:n,products:t})})]}),(0,vi.jsx)(Ni,{}),(0,vi.jsx)(Ai,{})]})}function Pi(e){let{products:t,addProductToCart:n}=e;return(0,vi.jsxs)("div",{className:"page-inner-content",children:[(0,vi.jsxs)("div",{className:"section-titlee",children:[(0,vi.jsx)("h3",{children:"Nossos Produto"}),(0,vi.jsx)("div",{className:"underline"})]}),(0,vi.jsx)("div",{className:"main-content",children:(0,vi.jsx)(Ti,{products:t,addProductToCart:n})})]})}function Oi(e){let{id:t,name:n,image:i,price:s,removeProductFromCart:a,updateProductQuantity:o,quantity:l}=e;const u=("string"!==typeof(c=s)&&(c=String(c)),parseFloat(c.replace("R$","").replace(/\./g,"").replace(",","."))||0);var c;const[h,d]=(0,r.useState)(l);(0,r.useEffect)((()=>{d(l)}),[l]);return(0,vi.jsxs)("div",{className:"sidebar-product",children:[(0,vi.jsxs)("div",{className:"left-side",children:[(0,vi.jsx)("button",{className:"remove-product-btn",onClick:()=>a(t),children:(0,vi.jsx)(gi,{icon:Fe})}),(0,vi.jsxs)("div",{className:"details",children:[(0,vi.jsx)("h3",{children:n}),(0,vi.jsxs)("div",{className:"quantity-control",children:[(0,vi.jsx)("button",{onClick:()=>{if(h>1){const e=h-1;d(e),o(t,e)}},className:"quantity-btn",children:"-"}),(0,vi.jsx)("input",{type:"number",min:1,value:h,readOnly:!0,className:"quantity-input"}),(0,vi.jsx)("button",{onClick:()=>{const e=h+1;d(e),o(t,e)},className:"quantity-btn",children:"+"})]}),(0,vi.jsxs)("p",{className:"price-sum",children:[(0,vi.jsx)("b",{children:"Total Soma:"})," ",(u*h).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]}),(0,vi.jsx)("div",{className:"right-side",children:(0,vi.jsx)("img",{src:`/mercadoPatrocinado/${i}`,alt:n,className:"product-image"})})]})}function Ri(e){let{setShowSidebarCart:t,showSidebarCart:n,selectedProducts:i=[],setSelectedProducts:s,cartTotal:a,setCartTotal:o}=e;const l=te();(0,r.useEffect)((()=>{if(!i.length)return void o(0);const e=i.reduce(((e,t)=>{const n=(e=>{if(null==e)return 0;if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)return console.warn("O pre\xe7o n\xe3o \xe9 uma string ou n\xfamero v\xe1lido:",e),0;e=e.trim().replace("R$","").replace(/[^0-9,]/g,"");const t=parseFloat(e.replace(",","."));return isNaN(t)?(console.error("Erro ao converter pre\xe7o:",e),0):t})(t.price),r=t.quantity||1;return isNaN(n)||n<=0?(console.warn(`Pre\xe7o inv\xe1lido para o produto ${t.name}:`,n),e):e+n*r}),0);console.log("Novo total do carrinho calculado:",e),o(e)}),[i,o]);const u=e=>{const t=i.filter((t=>t.id!==e));s(t)},c=(e,t)=>{if(t<1)return;const n=i.map((n=>n.id===e?{...n,quantity:t}:n));s(n)};return(0,vi.jsxs)("aside",{className:"sidebar-cart "+(n?"show":""),children:[(0,vi.jsxs)("div",{className:"top",children:[(0,vi.jsx)("h1",{children:"Carrinho de Compras"}),(0,vi.jsx)("button",{onClick:()=>t(!1),children:(0,vi.jsx)(gi,{icon:Fe})})]}),(0,vi.jsx)("div",{className:"sidebar-products-list",children:i.length>0?i.map((e=>(0,vi.jsx)(Oi,{id:e.id,name:e.name,image:e.image,price:e.price,quantity:e.quantity,removeProductFromCart:u,updateProductQuantity:c},e.id))):(0,vi.jsx)("i",{className:"Menu-cart",children:"Seu carrinho est\xe1 vazio !!!"})}),a>0&&(0,vi.jsxs)("div",{className:"total-container",children:[(0,vi.jsx)("b",{children:"Valor Total: "}),a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),(0,vi.jsxs)("button",{className:"btn-cart",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout((()=>l("/checkout")),300)},children:[(0,vi.jsx)(gi,{icon:Ae}),(0,vi.jsx)("span",{children:"Enviar"})]})]})]})}const Li=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Mi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Li(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Fi;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ji=function(e){return function(e){const t=Li(e);return Mi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},zi=function(e){try{return Mi.decodeString(e,!0)}catch(_i){console.error("base64Decode failed: ",_i)}return null};function Vi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Vi(e[n],t[n]));return e}function Ui(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Bi=()=>{try{return Ui().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/mercadoPatrocinado",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(_i){return}const t=e&&zi(e[1]);return t&&JSON.parse(t)})()}catch(_i){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_i}`)}},qi=()=>{var e;return null===(e=Bi())||void 0===e?void 0:e.config};class $i{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ki(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gi(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function Hi(){return!function(){var e;const t=null===(e=Bi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(_i){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qi(){try{return"object"===typeof indexedDB}catch(_i){return!1}}class Wi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yi.prototype.create)}}class Yi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Xi,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Wi(n,s,t)}}const Xi=/\{\$([^}]+)}/g;function Ji(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(es(n)&&es(s)){if(!Zi(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function es(e){return null!==e&&"object"===typeof e}function ts(e,t){const n=new ns(e,t);return n.subscribe.bind(n)}class ns{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=rs),void 0===r.error&&(r.error=rs),void 0===r.complete&&(r.complete=rs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(_i){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(_i){"undefined"!==typeof console&&console.error&&console.error(_i)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function rs(){}function is(e){return e&&e._delegate?e._delegate:e}class ss{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const as="[DEFAULT]";class os{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $i;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(_i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(_i){if(r)return null;throw _i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch(_i){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(_i){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===as?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as;return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ls{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new os(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const us=[];var cs;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(cs||(cs={}));const hs={debug:cs.DEBUG,verbose:cs.VERBOSE,info:cs.INFO,warn:cs.WARN,error:cs.ERROR,silent:cs.SILENT},ds=cs.INFO,fs={[cs.DEBUG]:"log",[cs.VERBOSE]:"log",[cs.INFO]:"info",[cs.WARN]:"warn",[cs.ERROR]:"error"},ps=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=fs[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class ms{constructor(e){this.name=e,this._logLevel=ds,this._logHandler=ps,this._userLogHandler=null,us.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?hs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.DEBUG,...t),this._logHandler(this,cs.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.VERBOSE,...t),this._logHandler(this,cs.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.INFO,...t),this._logHandler(this,cs.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.WARN,...t),this._logHandler(this,cs.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.ERROR,...t),this._logHandler(this,cs.ERROR,...t)}}let gs,ys;const vs=new WeakMap,bs=new WeakMap,ws=new WeakMap,xs=new WeakMap,Ss=new WeakMap;let _s={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ws.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Es(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ys||(ys=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Cs(this),n),Is(vs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Is(e.apply(Cs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Cs(this),t,...r);return ws.set(s,t.sort?t.sort():[t]),Is(s)}}function ks(e){return"function"===typeof e?Es(e):(e instanceof IDBTransaction&&function(e){if(bs.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));bs.set(e,t)}(e),t=e,(gs||(gs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,_s):e);var t}function Is(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Is(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&vs.set(t,e)})).catch((()=>{})),Ss.set(t,e),t}(e);if(xs.has(e))return xs.get(e);const t=ks(e);return t!==e&&(xs.set(e,t),Ss.set(t,e)),t}const Cs=e=>Ss.get(e);const Ts=["get","getKey","getAll","getAllKeys","count"],Ns=["put","add","delete","clear"],As=new Map;function Ds(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(As.get(t))return As.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ns.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ts.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return As.set(t,s),s}_s=(e=>({...e,get:(t,n,r)=>Ds(t,n)||e.get(t,n,r),has:(t,n)=>!!Ds(t,n)||e.has(t,n)}))(_s);class Ps{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Os="@firebase/app",Rs="0.11.5",Ls=new ms("@firebase/app"),Ms="@firebase/app-compat",Fs="@firebase/analytics-compat",js="@firebase/analytics",zs="@firebase/app-check-compat",Vs="@firebase/app-check",Us="@firebase/auth",Bs="@firebase/auth-compat",qs="@firebase/database",$s="@firebase/data-connect",Ks="@firebase/database-compat",Gs="@firebase/functions",Hs="@firebase/functions-compat",Qs="@firebase/installations",Ws="@firebase/installations-compat",Ys="@firebase/messaging",Xs="@firebase/messaging-compat",Js="@firebase/performance",Zs="@firebase/performance-compat",ea="@firebase/remote-config",ta="@firebase/remote-config-compat",na="@firebase/storage",ra="@firebase/storage-compat",ia="@firebase/firestore",sa="@firebase/vertexai",aa="@firebase/firestore-compat",oa="firebase",la="[DEFAULT]",ua={[Os]:"fire-core",[Ms]:"fire-core-compat",[js]:"fire-analytics",[Fs]:"fire-analytics-compat",[Vs]:"fire-app-check",[zs]:"fire-app-check-compat",[Us]:"fire-auth",[Bs]:"fire-auth-compat",[qs]:"fire-rtdb",[$s]:"fire-data-connect",[Ks]:"fire-rtdb-compat",[Gs]:"fire-fn",[Hs]:"fire-fn-compat",[Qs]:"fire-iid",[Ws]:"fire-iid-compat",[Ys]:"fire-fcm",[Xs]:"fire-fcm-compat",[Js]:"fire-perf",[Zs]:"fire-perf-compat",[ea]:"fire-rc",[ta]:"fire-rc-compat",[na]:"fire-gcs",[ra]:"fire-gcs-compat",[ia]:"fire-fst",[aa]:"fire-fst-compat",[sa]:"fire-vertex","fire-js":"fire-js",[oa]:"fire-js-all"},ca=new Map,ha=new Map,da=new Map;function fa(e,t){try{e.container.addComponent(t)}catch(_i){Ls.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,_i)}}function pa(e,t){e.container.addOrOverwriteComponent(t)}function ma(e){const t=e.name;if(da.has(t))return Ls.debug(`There were multiple attempts to register component ${t}.`),!1;da.set(t,e);for(const n of ca.values())fa(n,e);for(const n of ha.values())fa(n,e);return!0}function ga(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:la;ga(e,t).clearInstance(n)}function va(e){return void 0!==e.options}function ba(e){return null!==e&&void 0!==e&&void 0!==e.settings}function wa(){da.clear()}const xa=new Yi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Sa{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ss("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}function _a(e,t){const n=zi(e.split(".")[1]);if(null===n)return void console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);if(void 0===JSON.parse(n).exp)return void console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);1e3*JSON.parse(n).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class Ea extends Sa{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._serverConfig.authIdToken&&_a(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&_a(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Da(Os,Rs,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Aa(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw xa.create("server-app-deleted")}}const ka="11.6.1";function Ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:la,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xa.create("bad-app-name",{appName:String(i)});if(n||(n=qi()),!n)throw xa.create("no-options");const s=ca.get(i);if(s){if(Zi(n,s.options)&&Zi(r,s.config))return s;throw xa.create("duplicate-app",{appName:i})}const a=new ls(i);for(const l of da.values())a.addComponent(l);const o=new Sa(n,r,a);return ca.set(i,o),o}function Ca(e,t){if(("undefined"!==typeof window||Gi())&&!Gi())throw xa.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=va(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw xa.create("finalization-registry-not-supported",{});const i=""+(e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0))(JSON.stringify(r)),s=ha.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new ls(i);for(const l of da.values())a.addComponent(l);const o=new Ea(n,t,i,a);return ha.set(i,o),o}function Ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la;const t=ca.get(e);if(!t&&e===la&&qi())return Ia();if(!t)throw xa.create("no-app",{appName:e});return t}function Na(){return Array.from(ca.values())}async function Aa(e){let t=!1;const n=e.name;if(ca.has(n))t=!0,ca.delete(n);else if(ha.has(n)){e.decRefCount()<=0&&(ha.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Da(e,t,n){var r;let i=null!==(r=ua[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ls.warn(e.join(" "))}ma(new ss(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Pa(e,t){if(null!==e&&"function"!==typeof e)throw xa.create("invalid-log-argument");!function(e,t){for(const n of us){let r=null;t&&t.level&&(r=hs[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:cs[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function Oa(e){var t;t=e,us.forEach((e=>{e.setLogLevel(t)}))}const Ra="firebase-heartbeat-store";let La=null;function Ma(){return La||(La=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Is(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Is(a.result),e.oldVersion,e.newVersion,Is(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ra)}catch(_i){console.warn(_i)}}}).catch((e=>{throw xa.create("idb-open",{originalErrorMessage:e.message})}))),La}async function Fa(e,t){try{const n=(await Ma()).transaction(Ra,"readwrite"),r=n.objectStore(Ra);await r.put(t,ja(e)),await n.done}catch(_i){if(_i instanceof Wi)Ls.warn(_i.message);else{const t=xa.create("idb-set",{originalErrorMessage:null===_i||void 0===_i?void 0:_i.message});Ls.warn(t.message)}}}function ja(e){return`${e.name}!${e.options.appId}`}class za{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ua(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Va();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(_i){Ls.warn(_i)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Va(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ba(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ba(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ji(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(_i){return Ls.warn(_i),""}}}function Va(){return(new Date).toISOString().substring(0,10)}class Ua{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Qi()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ma()).transaction(Ra),n=await t.objectStore(Ra).get(ja(e));return await t.done,n}catch(_i){if(_i instanceof Wi)Ls.warn(_i.message);else{const t=xa.create("idb-get",{originalErrorMessage:null===_i||void 0===_i?void 0:_i.message});Ls.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ba(e){return ji(JSON.stringify({version:2,heartbeats:e})).length}var qa;qa="",ma(new ss("platform-logger",(e=>new Ps(e)),"PRIVATE")),ma(new ss("heartbeat",(e=>new za(e)),"PRIVATE")),Da(Os,Rs,qa),Da(Os,Rs,"esm2017"),Da("fire-js","");class $a{constructor(e,t){this._delegate=e,this.firebase=t,fa(e,new ss("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Aa(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){fa(this._delegate,e)}_addOrOverwriteComponent(e){pa(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ka=new Yi("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Ga=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Ia(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ji(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Da,setLogLevel:Oa,onLog:Pa,apps:null,SDK_VERSION:ka,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(ma(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Ka.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Vi(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ji(n,e=e||la))throw Ka.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}($a);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Vi(n,e)},createSubscribe:ts,ErrorFactory:Yi,deepExtend:Vi}),n}(),Ha=new ms("@firebase/app-compat");try{const e=Ui();if(void 0!==e.firebase){Ha.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Ha.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(wx){}const Qa=Ga;!function(e){Da("@firebase/app-compat","0.2.54",e)}();Qa.registerVersion("firebase","11.6.1","app-compat");var Wa,Ya,Xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ja={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=a(n)).j(t);h(u)||0<u.l(e);)u=(s=a(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ya=Ja.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},Wa=Ja.Integer=r}).apply("undefined"!==typeof Xa?Xa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Za,eo,to,no,ro,io,so,ao,oo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},lo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof oo&&oo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new I),(e=>e.reset()));class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(D)}};var D=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){_(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,O);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}U.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new z(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),K={};function G(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):H(e,t,n,!1,r,i)}function H(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[$]=l=new U(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):H(e,t,n,!0,r,i)}function W(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[$]=null)):V(e)}}}function X(e){return e in K?K[e]:K[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[$])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;x(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,P),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){W(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}h(le,P);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}h(ve,O),h(be,O);var we={},xe=null;function Se(){return xe=xe||new ne}function _e(e){O.call(this,we.La,e)}function Ee(e){const t=Se();re(t,new _e(t))}function ke(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Se();re(t,new ke(t,e))}function Ce(e,t){O.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(_e,O),we.STAT_EVENT="statevent",h(ke,O),we.Ma="timingevent",h(Ce,O),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var De,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},De=new Re;var Fe={},je={};function ze(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var a=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(u(e.ba,e),t)}function Ke(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||un(e.j,e)}function He(e){Ke(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ln(n),Yt(n)}rn(n),Ie(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(u(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else hn(n,11)}else if((e.K||n.g==e)&&ln(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(Ke(o),qe(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=u[0]&&"close"!=u[0]||hn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?hn(n,7):Wt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ee()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Kt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const d=Kt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=d||7==t||Ee(),Ke(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Gt(this.g);e="";var s=r.length,a=4==Kt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){He(this),Ge(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ie(12),He(this),Ge(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==je){4==d&&(this.s=4,Ie(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Ie(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,Ie(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),He(this),Ge(this)}else Ae(this.i,this.l,o,null),Qe(this,o);4==d&&He(this),this.o&&!this.J&&(4==d?un(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Kt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),He(this),Ge(this)}}}catch(on){}},Le.prototype.cancel=function(){this.J=!0,He(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Ie(17)),He(this),this.s=2,Ge(this)):$e(this,this.S-e)};var We=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){St(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return St(e),t=It(e,t),e.g.has(t)}function kt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),d(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(_i){throw t.push(r+"type="+encodeURIComponent("_badmap")),_i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Dt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){St(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Et(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(At,pe),At.prototype.g=function(){return new Dt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),h(Dt,ne),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Rt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var jt=/^https?$/i,zt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),qt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Kt(e)||2!=e.Z()))if(e.u&&4==Kt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Kt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!jt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Kt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ut(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(_i){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Kt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),ln(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),T||(C(),T=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Nt(o,e,"req"+n+"_")}catch(on){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),T||(C(),T=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(u(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ve(n,e)}function ln(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function un(e,t){var n=null;if(e.g==t){ln(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(u(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:hn(e,5);break;case 4:hn(e,10);break;case 3:hn(e,6);break;default:hn(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function hn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=c(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function fn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new At({eb:n})):new Ft(e.pa)).Ha(e.J),t}function mn(){}function gn(){}function yn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function vn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(){be.call(this),this.status=1}function wn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?me(this.o):me(De),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=at(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new yn(e,t)},h(yn,ne),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Wt(this.g)},yn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new We(t.Ya++,e)),3==t.G&&Jt(t)},yn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,yn.aa.N.call(this)},h(vn,ve),h(bn,be),h(wn,mn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new vn(e))},wn.prototype.sa=function(e){re(this.g,new bn)},wn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,ao=lo.createWebChannelTransport=function(){return new gn},so=lo.getStatEventTarget=function(){return Se()},io=lo.Event=we,ro=lo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,no=lo.ErrorCode=Pe,Oe.COMPLETE="complete",to=lo.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,eo=lo.WebChannel=ge,lo.FetchXmlHttpFactory=At,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Za=lo.XhrIo=Ft}).apply("undefined"!==typeof oo?oo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const uo="@firebase/firestore",co="4.7.11";class ho{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ho.UNAUTHENTICATED=new ho(null),ho.GOOGLE_CREDENTIALS=new ho("google-credentials-uid"),ho.FIRST_PARTY=new ho("first-party-uid"),ho.MOCK_USER=new ho("mock-user");let fo="11.6.1";const po=new ms("@firebase/firestore");function mo(){return po.logLevel}function go(e){if(po.logLevel<=cs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bo);po.debug(`Firestore (${fo}): ${e}`,...i)}}function yo(e){if(po.logLevel<=cs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bo);po.error(`Firestore (${fo}): ${e}`,...i)}}function vo(e){if(po.logLevel<=cs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bo);po.warn(`Firestore (${fo}): ${e}`,...i)}}function bo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(rt){return e}}function wo(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,xo(e,r,n)}function xo(e,t,n){let r=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw yo(r),new Error(r)}function So(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||xo(t,i,r)}function _o(e,t){return e}const Eo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ko extends Wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Io{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Co{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class To{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ho.UNAUTHENTICATED)))}shutdown(){}}class No{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ao{constructor(e){this.t=e,this.currentUser=ho.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){So(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Io,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{go("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(go("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Io)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(go("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(So("string"==typeof t.accessToken,31837,{l:t}),new Co(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return So(null===e||"string"==typeof e,2055,{h:e}),new ho(e)}}class Do{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ho.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Po{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Do(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ho.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Oo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ro{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ba(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){So(void 0===this.o,3512);const n=e=>{null!=e.error&&go("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,go("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{go("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):go("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Oo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(So("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Oo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Mo(){return new TextEncoder}class Fo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Lo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function jo(e,t){return e<t?-1:e>t?1:0}function zo(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return jo(r,i);{const s=Mo(),a=Uo(s.encode(Vo(e,n)),s.encode(Vo(t,n)));return 0!==a?a:jo(r,i)}}n+=r>65535?2:1}return jo(e.length,t.length)}function Vo(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Uo(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return jo(e[n],t[n]);return jo(e.length,t.length)}function Bo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function qo(e){return e+"\0"}const $o=-62135596800,Ko=1e6;class Go{static now(){return Go.fromMillis(Date.now())}static fromDate(e){return Go.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ko);return new Go(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ko(Eo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ko(Eo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$o)throw new ko(Eo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ko(Eo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ko}_compareTo(e){return this.seconds===e.seconds?jo(this.nanoseconds,e.nanoseconds):jo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$o;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ho{static fromTimestamp(e){return new Ho(e)}static min(){return new Ho(new Go(0,0))}static max(){return new Ho(new Go(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo="__name__";class Wo{constructor(e,t,n){void 0===t?t=0:t>e.length&&wo(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&wo(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wo?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Wo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return jo(e.length,t.length)}static compareSegments(e,t){const n=Wo.isNumericId(e),r=Wo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Wo.extractNumericId(e).compare(Wo.extractNumericId(t)):zo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class Yo extends Wo{construct(e,t,n){return new Yo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ko(Eo.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Yo(e)}static emptyPath(){return new Yo([])}}const Xo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jo extends Wo{construct(e,t,n){return new Jo(e,t,n)}static isValidIdentifier(e){return Xo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Qo}static keyField(){return new Jo([Qo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ko(Eo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ko(Eo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ko(Eo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ko(Eo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jo(t)}static emptyPath(){return new Jo([])}}class Zo{constructor(e){this.path=e}static fromPath(e){return new Zo(Yo.fromString(e))}static fromName(e){return new Zo(Yo.fromString(e).popFirst(5))}static empty(){return new Zo(Yo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zo(new Yo(e.slice()))}}const el=-1;class tl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function nl(e){return e.fields.find((e=>2===e.kind))}function rl(e){return e.fields.filter((e=>2!==e.kind))}tl.UNKNOWN_ID=-1;class il{constructor(e,t){this.fieldPath=e,this.kind=t}}class sl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sl(0,ll.min())}}function al(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ho.fromTimestamp(1e9===r?new Go(n+1,0):new Go(n,r));return new ll(i,Zo.empty(),t)}function ol(e){return new ll(e.readTime,e.key,el)}class ll{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ll(Ho.min(),Zo.empty(),el)}static max(){return new ll(Ho.max(),Zo.empty(),el)}}function ul(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zo.comparator(e.documentKey,t.documentKey),0!==n?n:jo(e.largestBatchId,t.largestBatchId))}const cl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dl(e){if(e.code!==Eo.FAILED_PRECONDITION||e.message!==cl)throw e;go("LocalStore","Unexpectedly lost primary lease")}class fl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fl(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fl?t:fl.resolve(t)}catch(e){return fl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fl.reject(t)}static resolve(e){return new fl(((t,n)=>{t(e)}))}static reject(e){return new fl(((t,n)=>{n(e)}))}static waitFor(e){return new fl(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=fl.resolve(!1);for(const n of e)t=t.next((e=>e?fl.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new fl(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new fl(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const pl="SimpleDb";class ml{static open(e,t,n,r){try{return new ml(t,e.transaction(r,n))}catch(e){throw new bl(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Io,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new bl(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=El(t.target.error);this.S.reject(new bl(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(go(pl,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xl(t)}}class gl{static delete(e){return go(pl,"Removing database:",e),Sl(Ui().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Qi())return!1;if(gl.F())return!0;const e=Ki(),t=gl.M(e),n=0<t&&t<10,r=yl(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.O)}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,12.2===gl.M(Ki())&&yo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(go(pl,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new bl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ko(Eo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ko(Eo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new bl(e,r))},r.onupgradeneeded=e=>{go(pl,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;if(null!==this.L&&this.L!==e.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${e.oldVersion}, event.newVersion=${e.newVersion}, db.version=${t.version}`);this.B.q(t,r.transaction,e.oldVersion,this.version).next((()=>{go(pl,"Database upgrade to version "+this.version+" complete")}))}})),this.db.addEventListener("close",(e=>{const t=e.target;this.L=t.version}),{passive:!0})),this.$&&(this.db.onversionchange=e=>this.$(e)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.k(e);const t=ml.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.v(),e))).catch((e=>(t.abort(e),fl.reject(e)))).toPromise();return s.catch((()=>{})),await t.D,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(go(pl,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function yl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vl{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Sl(this.K.delete())}}class bl extends ko{constructor(e,t){super(Eo.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wl(e){return"IndexedDbTransactionError"===e.name}class xl{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(go(pl,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(go(pl,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Sl(n)}add(e){return go(pl,"ADD",this.store.name,e,e),Sl(this.store.add(e))}get(e){return Sl(this.store.get(e)).next((t=>(void 0===t&&(t=null),go(pl,"GET",this.store.name,e,t),t)))}delete(e){return go(pl,"DELETE",this.store.name,e),Sl(this.store.delete(e))}count(){return go(pl,"COUNT",this.store.name),Sl(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new fl(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.Y(e,((e,n)=>{t.push(n)})).next((()=>t))}}Z(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new fl(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}X(e,t){go(pl,"DELETE ALL",this.store.name);const n=this.options(e,t);n.ee=!1;const r=this.cursor(n);return this.Y(r,((e,t,n)=>n.delete()))}te(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Y(r,t)}ne(e){const t=this.cursor({});return new fl(((n,r)=>{t.onerror=e=>{const t=El(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Y(e,t){const n=[];return new fl(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new vl(i),a=t(i.primaryKey,i.value,s);if(a instanceof fl){const e=a.catch((e=>(s.done(),fl.reject(e))));n.push(e)}s.isDone?r():null===s.j?i.continue():i.continue(s.j)}})).next((()=>fl.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sl(e){return new fl(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=El(e.target.error);n(t)}}))}let _l=!1;function El(e){const t=gl.M(Ki());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ko("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _l||(_l=!0,setTimeout((()=>{throw e}),0)),e}}return e}const kl="IndexBackfiller";class Il{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ie(e){go(kl,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.re.se();go(kl,`Documents written: ${e}`)}catch(e){wl(e)?go(kl,"Ignoring IndexedDB error during index backfill: ",e):await dl(e)}await this.ie(6e4)}))}}class Cl{constructor(e,t){this.localStore=e,this.persistence=t}async se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.oe(t,e)))}oe(e,t){const n=new Set;let r=t,i=!0;return fl.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return go(kl,`Processing collection: ${t}`),this._e(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}_e(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ae(r,n))).next((n=>(go(kl,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ae(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=ol(t);ul(r,n)>0&&(n=r)})),new ll(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Tl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tl.le=-1;const Nl=-1;function Al(e){return null==e}function Dl(e){return 0===e&&1/e==-1/0}function Pl(e){return"number"==typeof e&&Number.isInteger(e)&&!Dl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ol="\x01";function Rl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ml(t)),t=Ll(e.get(n),t);return Ml(t)}function Ll(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Ol:n+="\x01\x11";break;default:n+=t}}return n}function Ml(e){return e+Ol+"\x01"}function Fl(e){const t=e.length;if(So(t>=2,64408,{path:e}),2===t)return So(e.charAt(0)===Ol&&"\x01"===e.charAt(1),56145,{path:e}),Yo.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(Ol,s);switch((t<0||t>n)&&wo(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:wo(61167,{path:e})}s=t+2}return new Yo(r)}const jl="remoteDocuments",zl="owner",Vl="owner",Ul="mutationQueues",Bl="mutations",ql="batchId",$l="userMutationsIndex",Kl=["userId","batchId"];function Gl(e,t){return[e,Rl(t)]}function Hl(e,t,n){return[e,Rl(t),n]}const Ql={},Wl="documentMutations",Yl="remoteDocumentsV14",Xl=["prefixPath","collectionGroup","readTime","documentId"],Jl="documentKeyIndex",Zl=["prefixPath","collectionGroup","documentId"],eu="collectionGroupIndex",tu=["collectionGroup","readTime","prefixPath","documentId"],nu="remoteDocumentGlobal",ru="remoteDocumentGlobalKey",iu="targets",su="queryTargetsIndex",au=["canonicalId","targetId"],ou="targetDocuments",lu=["targetId","path"],uu="documentTargetsIndex",cu=["path","targetId"],hu="targetGlobalKey",du="targetGlobal",fu="collectionParents",pu=["collectionId","parent"],mu="clientMetadata",gu="bundles",yu="namedQueries",vu="indexConfiguration",bu="collectionGroupIndex",wu="indexState",xu=["indexId","uid"],Su="sequenceNumberIndex",_u=["uid","sequenceNumber"],Eu="indexEntries",ku=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Iu="documentKeyIndex",Cu=["indexId","uid","orderedDocumentKey"],Tu="documentOverlays",Nu=["userId","collectionPath","documentId"],Au="collectionPathOverlayIndex",Du=["userId","collectionPath","largestBatchId"],Pu="collectionGroupOverlayIndex",Ou=["userId","collectionGroup","largestBatchId"],Ru="globals",Lu=[Ul,Bl,Wl,jl,iu,zl,du,ou,mu,nu,fu,gu,yu],Mu=[...Lu,Tu],Fu=[Ul,Bl,Wl,Yl,iu,zl,du,ou,mu,nu,fu,gu,yu,Tu],ju=Fu,zu=[...ju,vu,wu,Eu],Vu=zu,Uu=[...zu,Ru];class Bu extends hl{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function qu(e,t){const n=_o(e);return gl.N(n.he,t)}function $u(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ku(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hu{constructor(e,t){this.comparator=e,this.root=t||Wu.EMPTY}insert(e,t){return new Hu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wu.BLACK,null,null))}remove(e){return new Hu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wu.RED,this.left=null!=r?r:Wu.EMPTY,this.right=null!=i?i:Wu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wo(27949);return e+(this.isRed()?0:1)}}Wu.EMPTY=null,Wu.RED=!0,Wu.BLACK=!1,Wu.EMPTY=new class{constructor(){this.size=0}get key(){throw wo(57766)}get value(){throw wo(16141)}get color(){throw wo(16727)}get left(){throw wo(29726)}get right(){throw wo(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yu{constructor(e){this.comparator=e,this.data=new Hu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xu(this.data.getIterator())}getIteratorFrom(e){return new Xu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Yu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yu(this.comparator);return t.data=e,t}}class Xu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ju(e){return e.hasNext()?e.getNext():void 0}class Zu{constructor(e){this.fields=e,e.sort(Jo.comparator)}static empty(){return new Zu([])}unionWith(e){let t=new Yu(Jo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ec extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ec("Invalid base64 string: "+e):e}}(e);return new tc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new tc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tc.EMPTY_BYTE_STRING=new tc("");const nc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rc(e){if(So(!!e,39018),"string"==typeof e){let t=0;const n=nc.exec(e);if(So(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ic(e.seconds),nanos:ic(e.nanos)}}function ic(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sc(e){return"string"==typeof e?tc.fromBase64String(e):tc.fromUint8Array(e)}const ac="server_timestamp",oc="__type__",lc="__previous_value__",uc="__local_write_time__";function cc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[oc])||void 0===n?void 0:n.stringValue)===ac}function hc(e){const t=e.mapValue.fields[lc];return cc(t)?hc(t):t}function dc(e){const t=rc(e.mapValue.fields[uc].timestampValue);return new Go(t.seconds,t.nanos)}class fc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const pc="(default)";class mc{constructor(e,t){this.projectId=e,this.database=t||pc}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}const gc="__type__",yc="__max__",vc={mapValue:{fields:{__type__:{stringValue:yc}}}},bc="__vector__",wc="value",xc={nullValue:"NULL_VALUE"};function Sc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cc(e)?4:zc(e)?9007199254740991:Fc(e)?10:11:wo(28295,{value:e})}function _c(e,t){if(e===t)return!0;const n=Sc(e);if(n!==Sc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dc(e).isEqual(dc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=rc(e.timestampValue),r=rc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sc(e.bytesValue).isEqual(sc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ic(e.geoPointValue.latitude)===ic(t.geoPointValue.latitude)&&ic(e.geoPointValue.longitude)===ic(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ic(e.integerValue)===ic(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ic(e.doubleValue),r=ic(t.doubleValue);return n===r?Dl(n)===Dl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bo(e.arrayValue.values||[],t.arrayValue.values||[],_c);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($u(n)!==$u(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_c(n[i],r[i])))return!1;return!0}(e,t);default:return wo(52216,{left:e})}}function Ec(e,t){return void 0!==(e.values||[]).find((e=>_c(e,t)))}function kc(e,t){if(e===t)return 0;const n=Sc(e),r=Sc(t);if(n!==r)return jo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ic(e.integerValue||e.doubleValue),r=ic(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ic(e.timestampValue,t.timestampValue);case 4:return Ic(dc(e),dc(t));case 5:return zo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=sc(e),r=sc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=jo(n[i],r[i]);if(0!==e)return e}return jo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=jo(ic(e.latitude),ic(t.latitude));return 0!==n?n:jo(ic(e.longitude),ic(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[wc])||void 0===n?void 0:n.arrayValue,u=null===(r=o[wc])||void 0===r?void 0:r.arrayValue,c=jo((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:Cc(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===vc.mapValue&&t===vc.mapValue)return 0;if(e===vc.mapValue)return 1;if(t===vc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=zo(r[a],s[a]);if(0!==e)return e;const t=kc(n[r[a]],i[s[a]]);if(0!==t)return t}return jo(r.length,s.length)}(e.mapValue,t.mapValue);default:throw wo(23264,{Pe:n})}}function Ic(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jo(e,t);const n=rc(e),r=rc(t),i=jo(n.seconds,r.seconds);return 0!==i?i:jo(n.nanos,r.nanos)}function Cc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kc(n[i],r[i]);if(e)return e}return jo(n.length,r.length)}function Tc(e){return Nc(e)}function Nc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=rc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return sc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Nc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Nc(e.fields[i])}`;return n+"}"}(e.mapValue):wo(61005,{value:e})}function Ac(e){switch(Sc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hc(e);return t?16+Ac(t):16;case 5:return 2*e.stringValue.length;case 6:return sc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ac(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ku(e.fields,((e,n)=>{t+=e.length+Ac(n)})),t}(e.mapValue);default:throw wo(13486,{value:e})}}function Dc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Pc(e){return!!e&&"integerValue"in e}function Oc(e){return!!e&&"arrayValue"in e}function Rc(e){return!!e&&"nullValue"in e}function Lc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mc(e){return!!e&&"mapValue"in e}function Fc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[gc])||void 0===n?void 0:n.stringValue)===bc}function jc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ku(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===yc}const Vc={mapValue:{fields:{[gc]:{stringValue:bc},[wc]:{arrayValue:{}}}}};function Uc(e){return"nullValue"in e?xc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Dc(mc.empty(),Zo.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Fc(e)?Vc:{mapValue:{}}:wo(35942,{value:e})}function Bc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Dc(mc.empty(),Zo.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Vc:"mapValue"in e?Fc(e)?{mapValue:{}}:vc:wo(61959,{value:e})}function qc(e,t){const n=kc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $c(e,t){const n=kc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Kc{constructor(e){this.value=e}static empty(){return new Kc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(t)}setAll(e){let t=Jo.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=jc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _c(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ku(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Kc(jc(this.value))}}function Gc(e){const t=[];return Ku(e.fields,((e,n)=>{const r=new Jo([e]);if(Mc(n)){const e=Gc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Zu(t)}class Hc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Hc(e,0,Ho.min(),Ho.min(),Ho.min(),Kc.empty(),0)}static newFoundDocument(e,t,n,r){return new Hc(e,1,t,Ho.min(),n,r,0)}static newNoDocument(e,t){return new Hc(e,2,t,Ho.min(),Ho.min(),Kc.empty(),0)}static newUnknownDocument(e,t){return new Hc(e,3,t,Ho.min(),Ho.min(),Kc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ho.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ho.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(e,t){this.position=e,this.inclusive=t}}function Wc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Zo.comparator(Zo.fromName(a.referenceValue),n.key):kc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Yc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_c(e.position[n],t.position[n]))return!1;return!0}class Xc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Jc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Zc{}class eh extends Zc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ch(e,t,n):"array-contains"===t?new ph(e,n):"in"===t?new mh(e,n):"not-in"===t?new gh(e,n):"array-contains-any"===t?new yh(e,n):new eh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new hh(e,n):new dh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(kc(t,this.value)):null!==t&&Sc(this.value)===Sc(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class th extends Zc{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new th(e,t)}matches(e){return nh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nh(e){return"and"===e.op}function rh(e){return"or"===e.op}function ih(e){return sh(e)&&nh(e)}function sh(e){for(const t of e.filters)if(t instanceof th)return!1;return!0}function ah(e){if(e instanceof eh)return e.field.canonicalString()+e.op.toString()+Tc(e.value);if(ih(e))return e.filters.map((e=>ah(e))).join(",");{const t=e.filters.map((e=>ah(e))).join(",");return`${e.op}(${t})`}}function oh(e,t){return e instanceof eh?function(e,t){return t instanceof eh&&e.op===t.op&&e.field.isEqual(t.field)&&_c(e.value,t.value)}(e,t):e instanceof th?function(e,t){return t instanceof th&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&oh(n,t.filters[r])),!0)}(e,t):void wo(19439)}function lh(e,t){const n=e.filters.concat(t);return th.create(n,e.op)}function uh(e){return e instanceof eh?function(e){return`${e.field.canonicalString()} ${e.op} ${Tc(e.value)}`}(e):e instanceof th?function(e){return e.op.toString()+" {"+e.getFilters().map(uh).join(" ,")+"}"}(e):"Filter"}class ch extends eh{constructor(e,t,n){super(e,t,n),this.key=Zo.fromName(n.referenceValue)}matches(e){const t=Zo.comparator(e.key,this.key);return this.matchesComparison(t)}}class hh extends eh{constructor(e,t){super(e,"in",t),this.keys=fh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class dh extends eh{constructor(e,t){super(e,"not-in",t),this.keys=fh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function fh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zo.fromName(e.referenceValue)))}class ph extends eh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oc(t)&&Ec(t.arrayValue,this.value)}}class mh extends eh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ec(this.value.arrayValue,t)}}class gh extends eh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ec(this.value.arrayValue,t)}}class yh extends eh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ec(this.value.arrayValue,e)))}}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Ie=null}}function bh(e){return new vh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function wh(e){const t=_o(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ah(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Al(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Tc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Tc(e))).join(",")),t.Ie=e}return t.Ie}function xh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!oh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yc(e.startAt,t.startAt)&&Yc(e.endAt,t.endAt)}function Sh(e){return Zo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _h(e,t){return e.filters.filter((e=>e instanceof eh&&e.field.isEqual(t)))}function Eh(e,t,n){let r=xc,i=!0;for(const s of _h(e,t)){let e=xc,t=!0;switch(s.op){case"<":case"<=":e=Uc(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=xc}qc({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];qc({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function kh(e,t,n){let r=vc,i=!0;for(const s of _h(e,t)){let e=vc,t=!0;switch(s.op){case">=":case">":e=Bc(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=vc}$c({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];$c({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ih{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ch(e,t,n,r,i,s,a,o){return new Ih(e,t,n,r,i,s,a,o)}function Th(e){return new Ih(e)}function Nh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ah(e){return null!==e.collectionGroup}function Dh(e){const t=_o(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Yu(Jo.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Xc(r,n))})),e.has(Jo.keyField().canonicalString())||t.Ee.push(new Xc(Jo.keyField(),n))}return t.Ee}function Ph(e){const t=_o(e);return t.de||(t.de=Oh(t,Dh(e))),t.de}function Oh(e,t){if("F"===e.limitType)return bh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Xc(e.field,t)}));const n=e.endAt?new Qc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qc(e.startAt.position,e.startAt.inclusive):null;return bh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Rh(e,t){const n=e.filters.concat([t]);return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Lh(e,t,n){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mh(e,t){return xh(Ph(e),Ph(t))&&e.limitType===t.limitType}function Fh(e){return`${wh(Ph(e))}|lt:${e.limitType}`}function jh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>uh(e))).join(", ")}]`),Al(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Tc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Tc(e))).join(",")),`Target(${t})`}(Ph(e))}; limitType=${e.limitType})`}function zh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Dh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Wc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dh(e),t))&&!(e.endAt&&!function(e,t,n){const r=Wc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dh(e),t))}(e,t)}function Vh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Uh(e){return(t,n)=>{let r=!1;for(const i of Dh(e)){const e=Bh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Bh(e,t,n){const r=e.field.isKeyField()?Zo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kc(r,i):wo(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wo(19790,{direction:e.dir})}}class qh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ku(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Gu(this.inner)}size(){return this.innerSize}}const $h=new Hu(Zo.comparator);function Kh(){return $h}const Gh=new Hu(Zo.comparator);function Hh(){let e=Gh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Qh(e){let t=Gh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Wh(){return Xh()}function Yh(){return Xh()}function Xh(){return new qh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Jh=new Hu(Zo.comparator),Zh=new Yu(Zo.comparator);function ed(){let e=Zh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const td=new Yu(jo);function nd(){return td}function rd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(t)?"-0":t}}function id(e){return{integerValue:""+e}}function sd(e,t){return Pl(t)?id(t):rd(e,t)}class ad{constructor(){this._=void 0}}function od(e,t,n){return e instanceof cd?function(e,t){const n={fields:{[oc]:{stringValue:ac},[uc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&cc(t)&&(t=hc(t)),t&&(n.fields[lc]=t),{mapValue:n}}(n,t):e instanceof hd?dd(e,t):e instanceof fd?pd(e,t):function(e,t){const n=ud(e,t),r=gd(n)+gd(e.Re);return Pc(n)&&Pc(e.Re)?id(r):rd(e.serializer,r)}(e,t)}function ld(e,t,n){return e instanceof hd?dd(e,t):e instanceof fd?pd(e,t):n}function ud(e,t){return e instanceof md?function(e){return Pc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cd extends ad{}class hd extends ad{constructor(e){super(),this.elements=e}}function dd(e,t){const n=yd(t);for(const r of e.elements)n.some((e=>_c(e,r)))||n.push(r);return{arrayValue:{values:n}}}class fd extends ad{constructor(e){super(),this.elements=e}}function pd(e,t){let n=yd(t);for(const r of e.elements)n=n.filter((e=>!_c(e,r)));return{arrayValue:{values:n}}}class md extends ad{constructor(e,t){super(),this.serializer=e,this.Re=t}}function gd(e){return ic(e.integerValue||e.doubleValue)}function yd(e){return Oc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vd{constructor(e,t){this.field=e,this.transform=t}}class bd{constructor(e,t){this.version=e,this.transformResults=t}}class wd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wd}static exists(e){return new wd(void 0,e)}static updateTime(e){return new wd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sd{}function _d(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Od(e.key,wd.none()):new Td(e.key,e.data,wd.none());{const n=e.data,r=Kc.empty();let i=new Yu(Jo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Nd(e.key,r,new Zu(i.toArray()),wd.none())}}function Ed(e,t,n){e instanceof Td?function(e,t,n){const r=e.value.clone(),i=Dd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Nd?function(e,t,n){if(!xd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Dd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ad(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kd(e,t,n,r){return e instanceof Td?function(e,t,n,r){if(!xd(e.precondition,t))return n;const i=e.value.clone(),s=Pd(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Nd?function(e,t,n,r){if(!xd(e.precondition,t))return n;const i=Pd(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ad(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return xd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Id(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ud(r.transform,e||null);null!=i&&(null===n&&(n=Kc.empty()),n.set(r.field,i))}return n||null}function Cd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hd&&t instanceof hd||e instanceof fd&&t instanceof fd?Bo(e.elements,t.elements,_c):e instanceof md&&t instanceof md?_c(e.Re,t.Re):e instanceof cd&&t instanceof cd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Td extends Sd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nd extends Sd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ad(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Dd(e,t,n){const r=new Map;So(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ld(a,o,n[i]))}return r}function Pd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,od(e,s,t))}return r}class Od extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rd extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ld{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ed(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Yh();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=_d(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ho.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ed())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((e,t)=>Cd(e,t)))&&Bo(this.baseMutations,e.baseMutations,((e,t)=>Cd(e,t)))}}class Md{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){So(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Jh;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Md(e,t,n,r)}}class Fd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jd{constructor(e,t){this.count=e,this.unchangedNames=t}}var zd,Vd;function Ud(e){switch(e){case Eo.OK:return wo(64938);case Eo.CANCELLED:case Eo.UNKNOWN:case Eo.DEADLINE_EXCEEDED:case Eo.RESOURCE_EXHAUSTED:case Eo.INTERNAL:case Eo.UNAVAILABLE:case Eo.UNAUTHENTICATED:return!1;case Eo.INVALID_ARGUMENT:case Eo.NOT_FOUND:case Eo.ALREADY_EXISTS:case Eo.PERMISSION_DENIED:case Eo.FAILED_PRECONDITION:case Eo.ABORTED:case Eo.OUT_OF_RANGE:case Eo.UNIMPLEMENTED:case Eo.DATA_LOSS:return!0;default:return wo(15467,{code:e})}}function Bd(e){if(void 0===e)return yo("GRPC error has no .code"),Eo.UNKNOWN;switch(e){case zd.OK:return Eo.OK;case zd.CANCELLED:return Eo.CANCELLED;case zd.UNKNOWN:return Eo.UNKNOWN;case zd.DEADLINE_EXCEEDED:return Eo.DEADLINE_EXCEEDED;case zd.RESOURCE_EXHAUSTED:return Eo.RESOURCE_EXHAUSTED;case zd.INTERNAL:return Eo.INTERNAL;case zd.UNAVAILABLE:return Eo.UNAVAILABLE;case zd.UNAUTHENTICATED:return Eo.UNAUTHENTICATED;case zd.INVALID_ARGUMENT:return Eo.INVALID_ARGUMENT;case zd.NOT_FOUND:return Eo.NOT_FOUND;case zd.ALREADY_EXISTS:return Eo.ALREADY_EXISTS;case zd.PERMISSION_DENIED:return Eo.PERMISSION_DENIED;case zd.FAILED_PRECONDITION:return Eo.FAILED_PRECONDITION;case zd.ABORTED:return Eo.ABORTED;case zd.OUT_OF_RANGE:return Eo.OUT_OF_RANGE;case zd.UNIMPLEMENTED:return Eo.UNIMPLEMENTED;case zd.DATA_LOSS:return Eo.DATA_LOSS;default:return wo(39323,{code:e})}}(Vd=zd||(zd={}))[Vd.OK=0]="OK",Vd[Vd.CANCELLED=1]="CANCELLED",Vd[Vd.UNKNOWN=2]="UNKNOWN",Vd[Vd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vd[Vd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vd[Vd.NOT_FOUND=5]="NOT_FOUND",Vd[Vd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vd[Vd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vd[Vd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vd[Vd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vd[Vd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vd[Vd.ABORTED=10]="ABORTED",Vd[Vd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vd[Vd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vd[Vd.INTERNAL=13]="INTERNAL",Vd[Vd.UNAVAILABLE=14]="UNAVAILABLE",Vd[Vd.DATA_LOSS=15]="DATA_LOSS";let qd=null;const $d=new Wa([4294967295,4294967295],0);function Kd(e){const t=Mo().encode(e),n=new Ya;return n.update(t),new Uint8Array(n.digest())}function Gd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Wa([n,r],0),new Wa([i,s],0)]}class Hd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Qd(`Invalid padding: ${t}`);if(n<0)throw new Qd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Qd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Qd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Wa.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Wa.fromNumber(n)));return 1===r.compare($d)&&(r=new Wa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Kd(e),[n,r]=Gd(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Hd(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.pe)return;const t=Kd(e),[n,r]=Gd(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wd(Ho.min(),r,new Hu(jo),Kh(),ed())}}class Yd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Yd(n,t,ed(),ed(),ed())}}class Xd{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Jd{constructor(e,t){this.targetId=e,this.Ce=t}}class Zd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ef{constructor(){this.Fe=0,this.Me=rf(),this.xe=tc.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ed(),t=ed(),n=ed();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wo(38017,{changeType:i})}})),new Yd(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=rf()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,So(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tf{constructor(e){this.ze=e,this.je=new Map,this.He=Kh(),this.Je=nf(),this.Ye=nf(),this.Ze=new Hu(jo)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:wo(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Sh(i))if(0===n){const e=new Zo(i.path);this.tt(t,e,Hc.newNoDocument(e,Ho.min()))}else So(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==qd||qd.ht(function(e,t,n,r,i){var s,a,o,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=sc(n).toUint8Array()}catch(e){if(e instanceof ec)return vo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Hd(s,r,i)}catch(e){return vo(e instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&Sh(i.target)){const t=new Zo(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Hc.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=ed();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Wd(e,t,this.Ze,this.He,n);return this.He=Kh(),this.Je=nf(),this.Ye=nf(),this.Ze=new Hu(jo),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ef,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Yu(jo),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Yu(jo),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||go("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ef),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function nf(){return new Hu(Zo.comparator)}function rf(){return new Hu(Zo.comparator)}const sf={asc:"ASCENDING",desc:"DESCENDING"},af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},of={and:"AND",or:"OR"};class lf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uf(e,t){return e.useProto3Json||Al(t)?t:{value:t}}function cf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function df(e,t){return cf(e,t.toTimestamp())}function ff(e){return So(!!e,49232),Ho.fromTimestamp(function(e){const t=rc(e);return new Go(t.seconds,t.nanos)}(e))}function pf(e,t){return mf(e,t).canonicalString()}function mf(e,t){const n=function(e){return new Yo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function gf(e){const t=Yo.fromString(e);return So(jf(t),10190,{key:t.toString()}),t}function yf(e,t){return pf(e.databaseId,t.path)}function vf(e,t){const n=gf(t);if(n.get(1)!==e.databaseId.projectId)throw new ko(Eo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ko(Eo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zo(Sf(n))}function bf(e,t){return pf(e.databaseId,t)}function wf(e){const t=gf(e);return 4===t.length?Yo.emptyPath():Sf(t)}function xf(e){return new Yo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sf(e){return So(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function _f(e,t,n){return{name:yf(e,t),fields:n.value.mapValue.fields}}function Ef(e,t,n){const r=vf(e,t.name),i=ff(t.updateTime),s=t.createTime?ff(t.createTime):Ho.min(),a=new Kc({mapValue:{fields:t.fields}}),o=Hc.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kf(e,t){let n;if(t instanceof Td)n={update:_f(e,t.key,t.value)};else if(t instanceof Od)n={delete:yf(e,t.key)};else if(t instanceof Nd)n={update:_f(e,t.key,t.data),updateMask:Ff(t.fieldMask)};else{if(!(t instanceof Rd))return wo(16599,{ft:t.type});n={verify:yf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof md)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw wo(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:df(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wo(27497)}(e,t.precondition)),n}function If(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?wd.updateTime(ff(e.updateTime)):void 0!==e.exists?wd.exists(e.exists):wd.none()}(t.currentDocument):wd.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)So("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new cd;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new hd(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new fd(e)}else"increment"in t?n=new md(e,t.increment):wo(16584,{proto:t});const r=Jo.fromServerFormat(t.fieldPath);return new vd(r,n)}(e,t))):[];if(t.update){t.update.name;const i=vf(e,t.update.name),s=new Kc({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Zu(t.map((e=>Jo.fromServerFormat(e))))}(t.updateMask);return new Nd(i,s,e,n,r)}return new Td(i,s,n,r)}if(t.delete){const r=vf(e,t.delete);return new Od(r,n)}if(t.verify){const r=vf(e,t.verify);return new Rd(r,n)}return wo(1463,{proto:t})}function Cf(e,t){return{documents:[bf(e,t.path)]}}function Tf(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bf(e,i);const s=function(e){if(0!==e.length)return Mf(th.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Rf(e.field),direction:Df(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=uf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Nf(e){let t=wf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){So(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Af(e);return t instanceof th&&ih(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Xc(Lf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Al(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Qc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Qc(n,t)}(n.endAt)),Ch(t,i,a,s,o,"F",l,u)}function Af(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Lf(e.unaryFilter.field);return eh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Lf(e.unaryFilter.field);return eh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lf(e.unaryFilter.field);return eh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Lf(e.unaryFilter.field);return eh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wo(61313);default:return wo(60726)}}(e):void 0!==e.fieldFilter?function(e){return eh.create(Lf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wo(58110);default:return wo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return th.create(e.compositeFilter.filters.map((e=>Af(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wo(1026)}}(e.compositeFilter.op))}(e):wo(30097,{filter:e})}function Df(e){return sf[e]}function Pf(e){return af[e]}function Of(e){return of[e]}function Rf(e){return{fieldPath:e.canonicalString()}}function Lf(e){return Jo.fromServerFormat(e.fieldPath)}function Mf(e){return e instanceof eh?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:Rf(e.field),op:"IS_NAN"}};if(Rc(e.value))return{unaryFilter:{field:Rf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:Rf(e.field),op:"IS_NOT_NAN"}};if(Rc(e.value))return{unaryFilter:{field:Rf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rf(e.field),op:Pf(e.op),value:e.value}}}(e):e instanceof th?function(e){const t=e.getFilters().map((e=>Mf(e)));return 1===t.length?t[0]:{compositeFilter:{op:Of(e.op),filters:t}}}(e):wo(54877,{filter:e})}function Ff(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class zf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ho.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ho.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new zf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Vf{constructor(e){this.wt=e}}function Uf(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Bf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:yf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:cf(e,t.version.toTimestamp()),createTime:cf(e,t.createTime.toTimestamp())}}(e.wt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:qf(t.version)};else{if(!t.isUnknownDocument())return wo(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:qf(t.version)}}return r}function Bf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qf(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $f(e){const t=new Go(e.seconds,e.nanoseconds);return Ho.fromTimestamp(t)}function Kf(e,t){const n=(t.baseMutations||[]).map((t=>If(e.wt,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>If(e.wt,t))),i=Go.fromMillis(t.localWriteTimeMs);return new Ld(t.batchId,i,n,r)}function Gf(e){const t=$f(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?$f(e.lastLimboFreeSnapshotVersion):Ho.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return So(1===t,1966,{count:t}),Ph(Th(wf(e.documents[0])))}(e.query):function(e){return Ph(Nf(e))}(e.query),new zf(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,tc.fromBase64String(e.resumeToken))}function Hf(e,t){const n=qf(t.snapshotVersion),r=qf(t.lastLimboFreeSnapshotVersion);let i;i=Sh(t.target)?Cf(e.wt,t.target):Tf(e.wt,t.target).gt;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wh(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Qf(e){const t=Nf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lh(t,t.limit,"L"):t}function Wf(e,t){return new Fd(t.largestBatchId,If(e.wt,t.overlayMutation))}function Yf(e,t){const n=t.path.lastSegment();return[e,Rl(t.path.popLast()),n]}function Xf(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:qf(r.readTime),documentKey:Rl(r.documentKey.path),largestBatchId:r.largestBatchId}}class Jf{getBundleMetadata(e,t){return Zf(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:$f(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Zf(e).put(function(e){return{bundleId:e.id,createTime:qf(ff(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return ep(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Qf(e.bundledQuery),readTime:$f(e.readTime)}}(e)}))}saveNamedQuery(e,t){return ep(e).put(function(e){return{name:e.name,readTime:qf(ff(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Zf(e){return qu(e,gu)}function ep(e){return qu(e,yu)}class tp{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const n=t.uid||"";return new tp(e,n)}getOverlay(e,t){return np(e).get(Yf(this.userId,t)).next((e=>e?Wf(this.serializer,e):null))}getOverlays(e,t){const n=Wh();return fl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Fd(t,i);r.push(this.St(e,s))})),fl.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Rl(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(np(e).X(Au,r))})),fl.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Wh(),i=Rl(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return np(e).J(Au,s).next((e=>{for(const t of e){const e=Wf(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Wh();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return np(e).te({index:Pu,range:a},((e,t,n)=>{const a=Wf(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}St(e,t){return np(e).put(function(e,t,n){const[r,i,s]=Yf(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:kf(e.wt,n.mutation)}}(this.serializer,this.userId,t))}}function np(e){return qu(e,Tu)}class rp{Dt(e){return qu(e,Ru)}getSessionToken(e){return this.Dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?tc.fromUint8Array(t):tc.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class ip{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ic(e.integerValue));else if("doubleValue"in e){const n=ic(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Dl(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=rc(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(sc(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?zc(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Fc(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):wo(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=wc,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(ic(a)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Zo.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}ip.Wt=new ip;const sp=255;function ap(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function op(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ap(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class lp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.zt(n.value),n=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Yt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.zt(e);else if(e<2048)this.zt(960|e>>>6),this.zt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.zt(480|e>>>12),this.zt(128|63&e>>>6),this.zt(128|63&e);else{const e=t.codePointAt(0);this.zt(240|e>>>18),this.zt(128|63&e>>>12),this.zt(128|63&e>>>6),this.zt(128|63&e)}}this.jt()}Xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Yt()}en(e){const t=this.tn(e),n=op(t);this.nn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}rn(e){const t=this.tn(e),n=op(t);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}sn(){this._n(sp),this._n(255)}an(){this.un(sp),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}zt(e){const t=255&e;0===t?(this._n(0),this._n(255)):t===sp?(this._n(sp),this._n(0)):this._n(t)}Jt(e){const t=255&e;0===t?(this.un(0),this.un(255)):t===sp?(this.un(sp),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class up{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class cp{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class hp{constructor(){this.ln=new lp,this.hn=new up(this.ln),this.Pn=new cp(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return 0===e?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}class dp{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}In(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new dp(this.indexId,this.documentKey,this.arrayValue,n)}}function fp(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=pp(e.arrayValue,t.arrayValue),0!==n?n:(n=pp(e.directionalValue,t.directionalValue),0!==n?n:Zo.comparator(e.documentKey,t.documentKey)))}function pp(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class mp{constructor(e){this.En=new Yu(((e,t)=>Jo.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const e=t;e.isInequality()?this.En=this.En.add(e):this.An.push(e)}}get Rn(){return this.En.size>1}Vn(e){if(So(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=nl(e);if(void 0!==t&&!this.mn(t))return!1;const n=rl(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.mn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.En.size>0){const e=this.En.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.fn(e,t)||!this.gn(this.dn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.dn.length||!this.gn(this.dn[s++],e))return!1}return!0}pn(){if(this.Rn)return null;let e=new Yu(Jo.comparator);const t=[];for(const n of this.An)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new il(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new il(n.field,0))}for(const n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new il(n.field,"asc"===n.dir?0:1)));return new tl(tl.UNKNOWN_ID,this.collectionId,t,sl.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gp(e){var t,n;if(So(e instanceof eh||e instanceof th,20012),e instanceof eh){if(e instanceof mh){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>eh.create(e.field,"==",t))))||[];return th.create(r,"or")}return e}const r=e.filters.map((e=>gp(e)));return th.create(r,e.op)}function yp(e){if(0===e.getFilters().length)return[];const t=xp(gp(e));return So(wp(t),7391),vp(t)||bp(t)?[t]:t.getFilters()}function vp(e){return e instanceof eh}function bp(e){return e instanceof th&&ih(e)}function wp(e){return vp(e)||bp(e)||function(e){if(e instanceof th&&rh(e)){for(const t of e.getFilters())if(!vp(t)&&!bp(t))return!1;return!0}return!1}(e)}function xp(e){if(So(e instanceof eh||e instanceof th,34018),e instanceof eh)return e;if(1===e.filters.length)return xp(e.filters[0]);const t=e.filters.map((e=>xp(e)));let n=th.create(t,e.op);return n=Ep(n),wp(n)?n:(So(n instanceof th,64498),So(nh(n),40251),So(n.filters.length>1,57927),n.filters.reduce(((e,t)=>Sp(e,t))))}function Sp(e,t){let n;return So(e instanceof eh||e instanceof th,38388),So(t instanceof eh||t instanceof th,25473),n=e instanceof eh?t instanceof eh?function(e,t){return th.create([e,t],"and")}(e,t):_p(e,t):t instanceof eh?_p(t,e):function(e,t){if(So(e.filters.length>0&&t.filters.length>0,48005),nh(e)&&nh(t))return lh(e,t.getFilters());const n=rh(e)?e:t,r=rh(e)?t:e,i=n.filters.map((e=>Sp(e,r)));return th.create(i,"or")}(e,t),Ep(n)}function _p(e,t){if(nh(t))return lh(t,e.getFilters());{const n=t.filters.map((t=>Sp(e,t)));return th.create(n,"or")}}function Ep(e){if(So(e instanceof eh||e instanceof th,11850),e instanceof eh)return e;const t=e.getFilters();if(1===t.length)return Ep(t[0]);if(sh(e))return e;const n=t.map((e=>Ep(e))),r=[];return n.forEach((t=>{t instanceof eh?r.push(t):t instanceof th&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:th.create(r,e.op)}class kp{constructor(){this.yn=new Ip}addToCollectionParentIndex(e,t){return this.yn.add(t),fl.resolve()}getCollectionParents(e,t){return fl.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return fl.resolve()}deleteFieldIndex(e,t){return fl.resolve()}deleteAllFieldIndexes(e){return fl.resolve()}createTargetIndexes(e,t){return fl.resolve()}getDocumentsMatchingTarget(e,t){return fl.resolve(null)}getIndexType(e,t){return fl.resolve(0)}getFieldIndexes(e,t){return fl.resolve([])}getNextCollectionGroupToUpdate(e){return fl.resolve(null)}getMinOffset(e,t){return fl.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,t){return fl.resolve(ll.min())}updateCollectionGroup(e,t,n){return fl.resolve()}updateIndexEntries(e,t){return fl.resolve()}}class Ip{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yu(Yo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Yu(Yo.comparator)).toArray()}}const Cp="IndexedDbIndexManager",Tp=new Uint8Array(0);class Np{constructor(e,t){this.databaseId=t,this.wn=new Ip,this.bn=new qh((e=>wh(e)),((e,t)=>xh(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.wn.add(t)}));const i={collectionId:n,parent:Rl(r)};return Ap(e).put(i)}return fl.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[qo(t),""],!1,!0);return Ap(e).J(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Fl(r.parent))}return n}))}addFieldIndex(e,t){const n=Pp(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Op(e);return i.next((e=>{n.put(Xf(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Pp(e),r=Op(e),i=Dp(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Pp(e),n=Dp(e),r=Op(e);return t.X().next((()=>n.X())).next((()=>r.X()))}createTargetIndexes(e,t){return fl.forEach(this.Sn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new mp(t).pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Dp(e);let r=!0;const i=new Map;return fl.forEach(this.Sn(t),(t=>this.Dn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ed();const r=[];return fl.forEach(i,((i,s)=>{go(Cp,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${wh(t)}`);const a=function(e,t){const n=nl(t);if(void 0===n)return null;for(const r of _h(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of rl(t))for(const t of _h(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of rl(t)){const t=0===i.kind?Eh(e,i.fieldPath,e.startAt):kh(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Qc(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of rl(t)){const t=0===i.kind?kh(e,i.fieldPath,e.endAt):Eh(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Qc(n,r)}(s,i),c=this.vn(i,s,l),h=this.vn(i,s,u),d=this.Cn(i,s,o),f=this.Fn(i.indexId,a,c,l.inclusive,h,u.inclusive,d);return fl.forEach(f,(i=>n.Z(i,t.limit).next((t=>{t.forEach((t=>{const n=Zo.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return fl.resolve(null)}))}Sn(e){let t=this.bn.get(e);return t||(t=0===e.filters.length?[e]:yp(th.create(e.filters,"and")).map((t=>bh(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.bn.set(e,t),t)}Fn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),u=[];for(let c=0;c<o;++c){const o=t?this.Mn(t[c/l]):Tp,h=this.xn(e,o,n[c%l],r),d=this.On(e,o,i[c%l],s),f=a.map((t=>this.xn(e,o,t,!0)));u.push(...this.createRange(h,d,f))}return u}xn(e,t,n,r){const i=new dp(e,Zo.empty(),t,n);return r?i:i.In()}On(e,t,n,r){const i=new dp(e,Zo.empty(),t,n);return r?i.In():i}Dn(e,t){const n=new mp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.Vn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Sn(t);return fl.forEach(r,(t=>this.Dn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Yu(Jo.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}Nn(e,t){const n=new hp;for(const r of rl(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Tn(r.kind);ip.Wt.vt(e,i)}return n.cn()}Mn(e){const t=new hp;return ip.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const n=new hp;return ip.Wt.vt(Dc(this.databaseId,t),n.Tn(function(e){const t=rl(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.cn()}Cn(e,t,n){if(null===n)return[];let r=[];r.push(new hp);let i=0;for(const s of rl(e)){const e=n[i++];for(const n of r)if(this.Ln(t,s.fieldPath)&&Oc(e))r=this.kn(r,s,e);else{const t=n.Tn(s.kind);ip.Wt.vt(e,t)}}return this.qn(r)}vn(e,t,n){return this.Cn(e,t,n.position)}qn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].cn();return t}kn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new hp;n.seed(e.cn()),ip.Wt.vt(s,n.Tn(t.kind)),i.push(n)}return i}Ln(e,t){return!!e.filters.find((e=>e instanceof eh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Pp(e),r=Op(e);return(t?n.J(bu,IDBKeyRange.bound(t,t)):n.J()).next((e=>{const t=[];return fl.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new sl(t.sequenceNumber,new ll($f(t.readTime),new Zo(Fl(t.documentKey)),t.largestBatchId)):sl.empty(),r=e.fields.map((e=>{let[t,n]=e;return new il(Jo.fromServerFormat(t),n)}));return new tl(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:jo(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Pp(e),i=Op(e);return this.Qn(e).next((e=>r.J(bu,IDBKeyRange.bound(t,t)).next((t=>fl.forEach(t,(t=>i.put(Xf(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return fl.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?fl.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),fl.forEach(i,(n=>this.$n(e,t,n).next((t=>{const i=this.Un(r,n);return t.isEqual(i)?fl.resolve():this.Kn(e,r,n,t,i)})))))))}))}Wn(e,t,n,r){return Dp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Bn(n,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,n,r){return Dp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Bn(n,t.key),t.key.path.toArray()])}$n(e,t,n){const r=Dp(e);let i=new Yu(fp);return r.te({index:Iu,range:IDBKeyRange.only([n.indexId,this.uid,this.Bn(n,t)])},((e,r)=>{i=i.add(new dp(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Un(e,t){let n=new Yu(fp);const r=this.Nn(t,e);if(null==r)return n;const i=nl(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Oc(s))for(const i of s.arrayValue.values||[])n=n.add(new dp(t.indexId,e.key,this.Mn(i),r))}else n=n.add(new dp(t.indexId,e.key,Tp,r));return n}Kn(e,t,n,r,i){go(Cp,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Ju(s),l=Ju(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=Ju(a)):t?(i(o),o=Ju(s)):(o=Ju(s),l=Ju(a))}}(r,i,fp,(r=>{s.push(this.Wn(e,t,n,r))}),(r=>{s.push(this.Gn(e,t,n,r))})),fl.waitFor(s)}Qn(e){let t=1;return Op(e).te({index:Su,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>fp(e,t))).filter(((e,t,n)=>!t||0!==fp(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=fp(s,e),i=fp(s,t);if(0===n)r[0]=e.In();else if(n>0&&i<0)r.push(s),r.push(s.In());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.zn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Tp,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Tp,[]];i.push(IDBKeyRange.bound(e,t))}return i}zn(e,t){return fp(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Rp)}getMinOffset(e,t){return fl.mapArray(this.Sn(t),(t=>this.Dn(e,t).next((e=>e||wo(44426))))).next(Rp)}}function Ap(e){return qu(e,fu)}function Dp(e){return qu(e,Eu)}function Pp(e){return qu(e,vu)}function Op(e){return qu(e,wu)}function Rp(e){So(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ul(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ll(t.readTime,t.documentKey,n)}const Lp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mp=41943040;class Fp{static withCacheSize(e){return new Fp(e,Fp.DEFAULT_COLLECTION_PERCENTILE,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function jp(e,t,n){const r=e.store(Bl),i=e.store(Wl),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.te({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{So(1===o,47070,{batchId:n.batchId})})));const u=[];for(const c of n.mutations){const e=Hl(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return fl.waitFor(s).next((()=>u))}function zp(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wo(14731);t=e.noDocument}return JSON.stringify(t).length}Fp.DEFAULT_COLLECTION_PERCENTILE=10,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fp.DEFAULT=new Fp(Mp,Fp.DEFAULT_COLLECTION_PERCENTILE,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fp.DISABLED=new Fp(-1,0,0);class Vp{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.jn={}}static bt(e,t,n,r){So(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new Vp(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bp(e).te({index:$l,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=qp(e),s=Bp(e);return s.add({}).next((a=>{So("number"==typeof a,49019);const o=new Ld(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>kf(e.wt,t))),i=n.mutations.map((t=>kf(e.wt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),u=[];let c=new Yu(((e,t)=>jo(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Hl(this.userId,e.key.path,a);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Ql))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.jn[a]=o.keys()})),fl.waitFor(u).next((()=>o))}))}lookupMutationBatch(e,t){return Bp(e).get(t).next((e=>e?(So(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),Kf(this.serializer,e)):null))}Hn(e,t){return this.jn[t]?fl.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.jn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Bp(e).te({index:$l,range:r},((e,t,r)=>{t.userId===this.userId&&(So(t.batchId>=n,47524,{Jn:n}),i=Kf(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Nl;return Bp(e).te({index:$l,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Nl],[this.userId,Number.POSITIVE_INFINITY]);return Bp(e).J($l,t).next((e=>e.map((e=>Kf(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Gl(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return qp(e).te({range:r},((n,r,s)=>{const[a,o,l]=n,u=Fl(o);if(a===this.userId&&t.path.isEqual(u))return Bp(e).get(l).next((e=>{if(!e)throw wo(61480,{Yn:n,batchId:l});So(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(Kf(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yu(jo);const r=[];return t.forEach((t=>{const i=Gl(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=qp(e).te({range:s},((e,r,i)=>{const[s,a,o]=e,l=Fl(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),fl.waitFor(r).next((()=>this.Zn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Gl(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Yu(jo);return qp(e).te({range:s},((e,t,i)=>{const[s,o,l]=e,u=Fl(o);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Zn(e,a)))}Zn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Bp(e).get(t).next((e=>{if(null===e)throw wo(35274,{batchId:t});So(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(Kf(this.serializer,e))})))})),fl.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return jp(e.he,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Xn(t.batchId)})),fl.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return fl.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return qp(e).te({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Fl(e[1]);r.push(t)}else n.done()})).next((()=>{So(0===r.length,56720,{er:r.map((e=>e.canonicalString()))})}))}))}containsKey(e,t){return Up(e,this.userId,t)}tr(e){return $p(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Nl,lastStreamToken:""}))}}function Up(e,t,n){const r=Gl(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return qp(e).te({range:s,ee:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function Bp(e){return qu(e,Bl)}function qp(e){return qu(e,Wl)}function $p(e){return qu(e,Ul)}class Kp{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Kp(0)}static ir(){return new Kp(-1)}}class Gp{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next((t=>{const n=new Kp(t.highestTargetId);return t.highestTargetId=n.next(),this._r(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.sr(e).next((e=>Ho.fromTimestamp(new Go(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.sr(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.sr(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this._r(e,r))))}addTargetData(e,t){return this.ar(e,t).next((()=>this.sr(e).next((n=>(n.targetCount+=1,this.ur(t,n),this._r(e,n))))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Hp(e).delete(t.targetId))).next((()=>this.sr(e))).next((t=>(So(t.targetCount>0,8065),t.targetCount-=1,this._r(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Hp(e).te(((s,a)=>{const o=Gf(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>fl.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Hp(e).te(((e,n)=>{const r=Gf(n);t(r)}))}sr(e){return Qp(e).get(hu).next((e=>(So(null!==e,2888),e)))}_r(e,t){return Qp(e).put(hu,t)}ar(e,t){return Hp(e).put(Hf(this.serializer,t))}ur(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.sr(e).next((e=>e.targetCount))}getTargetData(e,t){const n=wh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Hp(e).te({range:r,index:su},((e,n,r)=>{const s=Gf(n);xh(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Wp(e);return t.forEach((t=>{const s=Rl(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),fl.waitFor(r)}removeMatchingKeys(e,t,n){const r=Wp(e);return fl.forEach(t,(t=>{const i=Rl(t.path);return fl.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Wp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wp(e);let i=ed();return r.te({range:n,ee:!0},((e,t,n)=>{const r=Fl(e[1]),s=new Zo(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Rl(t.path),r=IDBKeyRange.bound([n],[qo(n)],!1,!0);let i=0;return Wp(e).te({index:uu,ee:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}Rt(e,t){return Hp(e).get(t).next((e=>e?Gf(e):null))}}function Hp(e){return qu(e,iu)}function Qp(e){return qu(e,du)}function Wp(e){return qu(e,ou)}const Yp="LruGarbageCollector",Xp=1048576;function Jp(e,t){let[n,r]=e,[i,s]=t;const a=jo(n,i);return 0===a?jo(r,s):a}class Zp{constructor(e){this.cr=e,this.buffer=new Yu(Jp),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Jp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class em{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){go(Yp,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wl(e)?go(Yp,"Ignoring IndexedDB error during garbage collection: ",e):await dl(e)}await this.Ir(3e5)}))}}class tm{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return fl.resolve(Tl.le);const n=new Zp(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(go("LruGarbageCollector","Garbage collection skipped; disabled"),fl.resolve(Lp)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(go("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lp):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,i,s,a,o,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(go("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),mo()<=cs.DEBUG&&go("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-u}ms`),fl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function nm(e,t){return new tm(e,t)}class rm{constructor(e,t){this.db=e,this.garbageCollector=nm(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,((e,n)=>t(n)))}addReference(e,t,n){return im(e,n)}removeReference(e,t,n){return im(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return im(e,t)}gr(e,t){return function(e,t){let n=!1;return $p(e).ne((r=>Up(e,r,t).next((e=>(e&&(n=!0),fl.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.mr(e,((s,a)=>{if(a<=t){const t=this.gr(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Ho.min()),Wp(e).delete(function(e){return[0,Rl(e.path)]}(s)))))}));r.push(t)}})).next((()=>fl.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return im(e,t)}mr(e,t){const n=Wp(e);let r,i=Tl.le;return n.te({index:uu},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==Tl.le&&t(new Zo(Fl(r)),i),i=l,r=o):i=Tl.le})).next((()=>{i!==Tl.le&&t(new Zo(Fl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function im(e,t){return Wp(e).put(function(e,t){return{targetId:0,path:Rl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class sm{constructor(){this.changes=new qh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class am{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return cm(e).put(n)}removeEntry(e,t,n){return cm(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Bf(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.pr(e,n))))}getEntry(e,t){let n=Hc.newInvalidDocument(t);return cm(e).te({index:Jl,range:IDBKeyRange.only(hm(t))},((e,r)=>{n=this.yr(t,r)})).next((()=>n))}wr(e,t){let n={size:0,document:Hc.newInvalidDocument(t)};return cm(e).te({index:Jl,range:IDBKeyRange.only(hm(t))},((e,r)=>{n={document:this.yr(t,r),size:zp(r)}})).next((()=>n))}getEntries(e,t){let n=Kh();return this.br(e,t,((e,t)=>{const r=this.yr(e,t);n=n.insert(e,r)})).next((()=>n))}Sr(e,t){let n=Kh(),r=new Hu(Zo.comparator);return this.br(e,t,((e,t)=>{const i=this.yr(e,t);n=n.insert(e,i),r=r.insert(e,zp(t))})).next((()=>({documents:n,Dr:r})))}br(e,t,n){if(t.isEmpty())return fl.resolve();let r=new Yu(fm);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(hm(r.first()),hm(r.last())),s=r.getIterator();let a=s.getNext();return cm(e).te({index:Jl,range:i},((e,t,r)=>{const i=Zo.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&fm(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.H(hm(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Bf(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cm(e).J(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Kh();for(const i of e){const e=this.yr(Zo.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(zh(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Kh();const s=dm(t,n),a=dm(t,ll.max());return cm(e).te({index:eu,range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.yr(Zo.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new lm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return um(e).get(ru).next((e=>(So(!!e,20021),e)))}pr(e,t){return um(e).put(ru,t)}yr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ef(e.wt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Zo.fromSegments(t.noDocument.path),r=$f(t.noDocument.readTime);n=Hc.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return wo(56709);{const e=Zo.fromSegments(t.unknownDocument.path),r=$f(t.unknownDocument.version);n=Hc.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Go(e[0],e[1]);return Ho.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Ho.min()))return e}return Hc.newInvalidDocument(e)}}function om(e){return new am(e)}class lm extends sm{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new qh((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Yu(((e,t)=>jo(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.Cr.get(i);if(t.push(this.vr.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=Uf(this.vr.serializer,s);r=r.add(i.path.popLast());const l=zp(o);n+=l-a.size,t.push(this.vr.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=Uf(this.vr.serializer,s.convertToNoDocument(Ho.min()));t.push(this.vr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.vr.updateMetadata(e,n)),fl.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next((e=>(this.Cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.vr.Sr(e,t).next((e=>{let{documents:t,Dr:n}=e;return n.forEach(((e,n)=>{this.Cr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function um(e){return qu(e,nu)}function cm(e){return qu(e,Yl)}function hm(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dm(e,t){const n=t.documentKey.path.toArray();return[e,Bf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function fm(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=jo(n[s],r[s]),i)return i;return i=jo(n.length,r.length),i||(i=jo(n[n.length-2],r[r.length-2]),i||jo(n[n.length-1],r[r.length-1]))}class pm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mm{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&kd(n.mutation,e,Zu.empty(),Go.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ed()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ed();const r=Wh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Hh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Wh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ed())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Kh();const s=Xh(),a=Xh();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Nd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),kd(a.mutation,t,a.mutation.getFieldMask(),Go.now())):s.set(t.key,Zu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new pm(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Xh();let r=new Hu(((e,t)=>e-t)),i=ed();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Zu.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||ed()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,u=Yh();l.forEach((e=>{if(!i.has(e)){const r=_d(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return fl.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ah(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):fl.resolve(Wh());let a=el,o=i;return s.next((t=>fl.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?fl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,ed()))).next((e=>({batchId:a,changes:Qh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zo(t)).next((e=>{let t=Hh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Hh();return this.indexManager.getCollectionParents(e,i).next((a=>fl.forEach(a,(a=>{const o=function(e,t){return new Ih(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Hc.newInvalidDocument(r)))}));let n=Hh();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&kd(s.mutation,r,Zu.empty(),Go.now()),zh(t,r)&&(n=n.insert(e,r))})),n}))}}class gm{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return fl.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ff(e.createTime)}}(t)),fl.resolve()}getNamedQuery(e,t){return fl.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:Qf(e.bundledQuery),readTime:ff(e.readTime)}}(t)),fl.resolve()}}class ym{constructor(){this.overlays=new Hu(Zo.comparator),this.Or=new Map}getOverlay(e,t){return fl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Wh();return fl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),fl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),fl.resolve()}getOverlaysForCollection(e,t,n){const r=Wh(),i=t.length+1,s=new Zo(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return fl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hu(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Wh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Wh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return fl.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fd(t,n));let i=this.Or.get(t);void 0===i&&(i=ed(),this.Or.set(t,i)),this.Or.set(t,i.add(n.key))}}class vm{constructor(){this.sessionToken=tc.EMPTY_BYTE_STRING}getSessionToken(e){return fl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fl.resolve()}}class bm{constructor(){this.Nr=new Yu(wm.Br),this.Lr=new Yu(wm.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new wm(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new wm(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new Zo(new Yo([])),n=new wm(t,e),r=new wm(t,e+1),i=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),i.push(e.key)})),i}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Zo(new Yo([])),n=new wm(t,e),r=new wm(t,e+1);let i=ed();return this.Lr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new wm(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class wm{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Zo.comparator(e.key,t.key)||jo(e.Gr,t.Gr)}static kr(e,t){return jo(e.Gr,t.Gr)||Zo.comparator(e.key,t.key)}}class xm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Yu(wm.Br)}checkEmpty(e){return fl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ld(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.zr=this.zr.add(new wm(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fl.resolve(s)}lookupMutationBatch(e,t){return fl.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),i=r<0?0:r;return fl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fl.resolve(0===this.mutationQueue.length?Nl:this.Jn-1)}getAllMutationBatches(e){return fl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new wm(t,0),r=new wm(t,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);i.push(t)})),fl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yu(jo);return t.forEach((e=>{const t=new wm(e,0),r=new wm(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),fl.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zo.isDocumentKey(i)||(i=i.child(""));const s=new wm(new Zo(i),0);let a=new Yu(jo);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Gr)),!0)}),s),fl.resolve(this.Jr(a))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){So(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return fl.forEach(t.mutations,(r=>{const i=new wm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new wm(t,0),r=this.zr.firstAfterOrEqual(n);return fl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fl.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sm{constructor(e){this.Zr=e,this.docs=new Hu(Zo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fl.resolve(n?n.document.mutableCopy():Hc.newInvalidDocument(t))}getEntries(e,t){let n=Kh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hc.newInvalidDocument(e))})),fl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Kh();const s=t.path,a=new Zo(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ul(ol(a),n)<=0||(r.has(a.key)||zh(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return fl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){wo(9500)}Xr(e,t){return fl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new _m(this)}getSize(e){return fl.resolve(this.size)}}class _m extends sm{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),fl.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class Em{constructor(e){this.persistence=e,this.ei=new qh((e=>wh(e)),xh),this.lastRemoteSnapshotVersion=Ho.min(),this.highestTargetId=0,this.ti=0,this.ni=new bm,this.targetCount=0,this.ri=Kp.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),fl.resolve()}getLastRemoteSnapshotVersion(e){return fl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fl.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),fl.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Kp(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,fl.resolve()}updateTargetData(e,t){return this.ar(t),fl.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,fl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ei.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),fl.waitFor(i).next((()=>r))}getTargetCount(e){return fl.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return fl.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),fl.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),fl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),fl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return fl.resolve(n)}containsKey(e,t){return fl.resolve(this.ni.containsKey(t))}}class km{constructor(e,t){this.ii={},this.overlays={},this.si=new Tl(0),this.oi=!1,this.oi=!0,this._i=new vm,this.referenceDelegate=e(this),this.ai=new Em(this),this.indexManager=new kp,this.remoteDocumentCache=function(e){return new Sm(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new Vf(t),this.ci=new gm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ym,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new xm(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){go("MemoryPersistence","Starting transaction:",e);const r=new Im(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return fl.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class Im extends hl{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.Ti=new bm,this.Ii=null}static Ei(e){return new Cm(e)}get di(){if(this.Ii)return this.Ii;throw wo(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),fl.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),fl.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),fl.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fl.forEach(this.di,(n=>{const r=Zo.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,Ho.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return fl.or([()=>fl.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Tm{constructor(e,t){this.persistence=e,this.Ri=new qh((e=>Rl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=nm(this,t)}static Ei(e,t){return new Tm(e,t)}li(){}hi(e){return fl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return fl.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?fl.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Ho.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),fl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),fl.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),fl.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),fl.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ac(e.data.value)),t}gr(e,t,n){return fl.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return fl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nm{constructor(e){this.serializer=e}q(e,t,n,r){const i=new ml("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(zl)}(e),function(e){e.createObjectStore(Ul,{keyPath:"userId"});e.createObjectStore(Bl,{keyPath:ql,autoIncrement:!0}).createIndex($l,Kl,{unique:!0}),e.createObjectStore(Wl)}(e),Am(e),function(e){e.createObjectStore(jl)}(e));let s=fl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ou),e.deleteObjectStore(iu),e.deleteObjectStore(du)}(e),Am(e)),s=s.next((()=>function(e){const t=e.store(du),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ho.min().toTimestamp(),targetCount:0};return t.put(hu,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(Bl).J().next((n=>{e.deleteObjectStore(Bl),e.createObjectStore(Bl,{keyPath:ql,autoIncrement:!0}).createIndex($l,Kl,{unique:!0});const r=t.store(Bl),i=n.map((e=>r.put(e)));return fl.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(mu,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Vi(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(nu)}(e),this.mi(i))))),n<7&&r>=7&&(s=s.next((()=>this.fi(i)))),n<8&&r>=8&&(s=s.next((()=>this.gi(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.pi(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(gu,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(yu,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore(Tu,{keyPath:Nu});t.createIndex(Au,Du,{unique:!1}),t.createIndex(Pu,Ou,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore(Yl,{keyPath:Xl});t.createIndex(Jl,Zl),t.createIndex(eu,tu)}(e))).next((()=>this.yi(e,i))).next((()=>e.deleteObjectStore(jl)))),n<14&&r>=14&&(s=s.next((()=>this.wi(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore(vu,{keyPath:"indexId",autoIncrement:!0}).createIndex(bu,"collectionGroup",{unique:!1});e.createObjectStore(wu,{keyPath:xu}).createIndex(Su,_u,{unique:!1});e.createObjectStore(Eu,{keyPath:ku}).createIndex(Iu,Cu,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore(wu).clear()})).next((()=>{t.objectStore(Eu).clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore(Ru,{keyPath:"name"})}(e)}))),s}mi(e){let t=0;return e.store(jl).te(((e,n)=>{t+=zp(n)})).next((()=>{const n={byteSize:t};return e.store(nu).put(ru,n)}))}Vi(e){const t=e.store(Ul),n=e.store(Bl);return t.J().next((t=>fl.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,Nl],[t.userId,t.lastAcknowledgedBatchId]);return n.J($l,r).next((n=>fl.forEach(n,(n=>{So(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=Kf(this.serializer,n);return jp(e,t.userId,r).next((()=>{}))}))))}))))}fi(e){const t=e.store(ou),n=e.store(jl);return e.store(du).get(hu).next((e=>{const r=[];return n.te(((n,i)=>{const s=new Yo(n),a=function(e){return[0,Rl(e)]}(s);r.push(t.get(a).next((n=>n?fl.resolve():(n=>t.put({targetId:0,path:Rl(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>fl.waitFor(r)))}))}gi(e,t){e.createObjectStore(fu,{keyPath:pu});const n=t.store(fu),r=new Ip,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Rl(r)})}};return t.store(jl).te({ee:!0},((e,t)=>{const n=new Yo(e);return i(n.popLast())})).next((()=>t.store(Wl).te({ee:!0},((e,t)=>{let[n,r,s]=e;const a=Fl(r);return i(a.popLast())}))))}pi(e){const t=e.store(iu);return t.te(((e,n)=>{const r=Gf(n),i=Hf(this.serializer,r);return t.put(i)}))}yi(e,t){const n=t.store(jl),r=[];return n.te(((e,n)=>{const i=t.store(Yl),s=function(e){return e.document?new Zo(Yo.fromString(e.document.name).popFirst(5)):e.noDocument?Zo.fromSegments(e.noDocument.path):e.unknownDocument?Zo.fromSegments(e.unknownDocument.path):wo(36783)}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>fl.waitFor(r)))}wi(e,t){const n=t.store(Bl),r=om(this.serializer),i=new km(Cm.Ei,this.serializer.wt);return n.J().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ed();Kf(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),fl.forEach(n,((e,n)=>{const s=new ho(n),a=tp.bt(this.serializer,s),o=i.getIndexManager(s),l=Vp.bt(s,this.serializer,o,i.referenceDelegate);return new mm(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Bu(t,Tl.le),e).next()}))}))}}function Am(e){e.createObjectStore(ou,{keyPath:lu}).createIndex(uu,cu,{unique:!0}),e.createObjectStore(iu,{keyPath:"targetId"}).createIndex(su,au,{unique:!0}),e.createObjectStore(du)}const Dm="IndexedDbPersistence",Pm=18e5,Om=5e3,Rm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lm="main";class Mm{constructor(e,t,n,r,i,s,a,o,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.bi=i,this.window=s,this.document=a,this.Si=l,this.Di=u,this.Ci=c,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=e=>Promise.resolve(),!Mm.C())throw new ko(Eo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rm(this,r),this.Bi=t+Lm,this.serializer=new Vf(o),this.Li=new gl(this.Bi,this.Ci,new Nm(this.serializer)),this._i=new rp,this.ai=new Gp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=om(this.serializer),this.ci=new Jf,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,!1===u&&yo(Dm,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ko(Eo.FAILED_PRECONDITION,Rm);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.ai.getHighestSequenceNumber(e)))})).then((e=>{this.si=new Tl(e,this.Si)})).then((()=>{this.oi=!0})).catch((e=>(this.Li&&this.Li.close(),Promise.reject(e))))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget((async()=>{this.started&&await this.qi()})))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>jm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Wi(e).next((e=>{e||(this.isPrimary=!1,this.bi.enqueueRetryable((()=>this.Ni(!1))))}))})).next((()=>this.Gi(e))).next((t=>this.isPrimary&&!t?this.zi(e).next((()=>!1)):!!t&&this.ji(e).next((()=>!0)))))).catch((e=>{if(wl(e))return go(Dm,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return go(Dm,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.bi.enqueueRetryable((()=>this.Ni(e))),this.isPrimary=e}))}Wi(e){return Fm(e).get(Vl).next((e=>fl.resolve(this.Hi(e))))}Ji(e){return jm(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,Pm)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=qu(e,mu);return t.J().next((e=>{const n=this.Xi(e,Pm),r=e.filter((e=>-1===n.indexOf(e)));return fl.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.qi().then((()=>this.Yi())).then((()=>this.Ui()))))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?fl.resolve(!0):Fm(e).get(Vl).next((t=>{if(null!==t&&this.Zi(t.leaseTimestampMs,Om)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new ko(Eo.FAILED_PRECONDITION,Rm);return!1}}return!(!this.networkEnabled||!this.inForeground)||jm(e).J().next((e=>void 0===this.Xi(e,Om).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&go(Dm,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[zl,mu],(e=>{const t=new Bu(e,Tl.le);return this.zi(t).next((()=>this.Ji(t)))})),this.Li.close(),this._s()}Xi(e,t){return e.filter((e=>this.Zi(e.updateTimeMs,t)&&!this.ts(e.clientId)))}us(){return this.runTransaction("getActiveClients","readonly",(e=>jm(e).J().next((e=>this.Xi(e,Pm).map((e=>e.clientId))))))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return Vp.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Np(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return tp.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,n){go(Dm,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?Uu:16===e?Vu:15===e?zu:14===e?ju:13===e?Fu:12===e?Mu:11===e?Lu:void wo(60245)}(this.Ci);let s;return this.Li.runTransaction(e,r,i,(r=>(s=new Bu(r,this.si?this.si.next():Tl.le),"readwrite-primary"===t?this.Wi(s).next((e=>!!e||this.Gi(s))).next((t=>{if(!t)throw yo(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable((()=>this.Ni(!1))),new ko(Eo.FAILED_PRECONDITION,cl);return n(s)})).next((e=>this.ji(s).next((()=>e)))):this.cs(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}cs(e){return Fm(e).get(Vl).next((e=>{if(null!==e&&this.Zi(e.leaseTimestampMs,Om)&&!this.ts(e.ownerId)&&!this.Hi(e)&&!(this.Di||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ko(Eo.FAILED_PRECONDITION,Rm)}))}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fm(e).put(Vl,t)}static C(){return gl.C()}zi(e){const t=Fm(e);return t.get(Vl).next((e=>this.Hi(e)?(go(Dm,"Releasing primary lease."),t.delete(Vl)):fl.resolve()))}Zi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(yo(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Qi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mi=()=>{this.bi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.qi())))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground="visible"===this.document.visibilityState)}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fi=()=>{this.ns();const e=/(?:Version|Mobile)\/1[456]/;Hi()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const n=null!==(null===(t=this.ki)||void 0===t?void 0:t.getItem(this.es(e)));return go(Dm,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return yo(Dm,"Failed to get zombied client id.",e),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(_i){yo("Failed to set zombie client id.",_i)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch(_i){}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fm(e){return qu(e,zl)}function jm(e){return qu(e,mu)}function zm(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Vm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=ed(),r=ed();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Vm(e,t.fromCache,n,r)}}class Um{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bm{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=Hi()?8:yl(Ki())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Vs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Um;return this.fs(e,t,n).next((r=>{if(i.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>i.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(mo()<=cs.DEBUG&&go("QueryEngine","SDK will not create cache indexes for query:",jh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fl.resolve()):(mo()<=cs.DEBUG&&go("QueryEngine","Query:",jh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(mo()<=cs.DEBUG&&go("QueryEngine","The SDK decides to create cache indexes for query:",jh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ph(t))):fl.resolve())}Rs(e,t){if(Nh(t))return fl.resolve(null);let n=Ph(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Lh(t,null,"F"),n=Ph(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ed(...r);return this.As.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ps(t,r);return this.ys(t,s,i,n.readTime)?this.Rs(e,Lh(t,null,"F")):this.ws(e,s,t,n)}))))})))))}Vs(e,t,n,r){return Nh(t)||r.isEqual(Ho.min())?fl.resolve(null):this.As.getDocuments(e,n).next((i=>{const s=this.ps(t,i);return this.ys(t,s,n,r)?fl.resolve(null):(mo()<=cs.DEBUG&&go("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jh(t)),this.ws(e,s,t,al(r,el)).next((e=>e)))}))}ps(e,t){let n=new Yu(Uh(e));return t.forEach(((t,r)=>{zh(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,t,n){return mo()<=cs.DEBUG&&go("QueryEngine","Using full collection scan to execute query:",jh(t)),this.As.getDocumentsMatchingQuery(e,t,ll.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const qm="LocalStore";class $m{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new Hu(jo),this.Ds=new qh((e=>wh(e)),xh),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mm(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function Km(e,t,n,r){return new $m(e,t,n,r)}async function Gm(e,t){const n=_o(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=ed();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ms:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Hm(e){const t=_o(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function Qm(e,t,n){let r=ed(),i=ed();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Kh();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ho.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):go(qm,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{xs:r,Os:i}}))}function Wm(e,t){const n=_o(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Nl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ym(e,t){const n=_o(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((i=>i?(r=i,fl.resolve(r)):n.ai.allocateTargetId(e).next((i=>(r=new zf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function Xm(e,t,n){const r=_o(e),i=r.Ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!wl(e))throw e;go(qm,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function Jm(e,t,n){const r=_o(e);let i=Ho.min(),s=ed();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=_o(e),i=r.Ds.get(n);return void 0!==i?fl.resolve(r.Ss.get(i)):r.ai.getTargetData(t,n)}(r,e,Ph(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?i:Ho.min(),n?s:ed()))).next((e=>(tg(r,Vh(t),e),{documents:e,Ns:s})))))}function Zm(e,t){const n=_o(e),r=_o(n.ai),i=n.Ss.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Rt(e,t).next((e=>e?e.target:null))))}function eg(e,t){const n=_o(e),r=n.vs.get(t)||Ho.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Cs.getAllFromCollectionGroup(e,t,al(r,el),Number.MAX_SAFE_INTEGER))).then((e=>(tg(n,t,e),e)))}function tg(e,t,n){let r=e.vs.get(t)||Ho.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}async function ng(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ed();const r=await Ym(e,Ph(Qf(t.bundledQuery))),i=_o(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=ff(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.ci.saveNamedQuery(e,t);const a=r.withResumeToken(tc.EMPTY_BYTE_STRING,s);return i.Ss=i.Ss.insert(a.targetId,a),i.ai.updateTargetData(e,a).next((()=>i.ai.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.ai.addMatchingKeys(e,n,r.targetId))).next((()=>i.ci.saveNamedQuery(e,t)))}))}const rg="firestore_clients";function ig(e,t){return`${rg}_${e}_${t}`}const sg="firestore_mutations";function ag(e,t,n){let r=`${sg}_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const og="firestore_targets";function lg(e,t){return`${og}_${e}_${t}`}const ug="SharedClientState";class cg{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static qs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ko(r.error.code,r.error.message))),s?new cg(e,t,r.state,i):(yo(ug,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static qs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ko(n.error.code,n.error.message))),i?new hg(e,n.state,r):(yo(ug,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=nd();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Pl(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new dg(e,i):(yo(ug,`Failed to parse client data for instance '${e}': ${t}`),null)}}class fg{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fg(t.clientId,t.onlineState):(yo(ug,`Failed to parse online state: ${e}`),null)}}class pg{constructor(){this.activeTargetIds=nd()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mg{constructor(e,t,n,r,i){this.window=e,this.bi=t,this.persistenceKey=n,this.Ks=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new Hu(jo),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Hs=ig(this.persistenceKey,this.Ks),this.Js=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new pg),this.Ys=new RegExp(`^${rg}_${s}_([^_]*)$`),this.Zs=new RegExp(`^${sg}_${s}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${og}_${s}_(\\d+)$`),this.eo=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.no=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const n of e){if(n===this.Ks)continue;const e=this.getItem(ig(this.persistenceKey,n));if(e){const t=dg.qs(n,e);t&&(this.zs=this.zs.insert(t.clientId,t))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const e=this.io(t);e&&this.so(e)}for(const n of this.js)this.Gs(n);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,n){this._o(e,t,n),this.ao(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(lg(this.persistenceKey,e));if(t){const r=hg.qs(e,t);r&&(n=r.state)}}return t&&this.uo.$s(e),this.ro(),n}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lg(this.persistenceKey,e))}updateQueryState(e,t,n){this.co(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.ao(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return go(ug,"READ",e,t),t}setItem(e,t){go(ug,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){go(ug,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(go(ug,"EVENT",t.key,t.newValue),t.key===this.Hs)return void yo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ys.test(t.key)){if(null==t.newValue){const e=this.Po(t.key);return this.To(e,null)}{const e=this.Io(t.key,t.newValue);if(e)return this.To(e.clientId,e)}}else if(this.Zs.test(t.key)){if(null!==t.newValue){const e=this.Eo(t.key,t.newValue);if(e)return this.Ao(e)}}else if(this.Xs.test(t.key)){if(null!==t.newValue){const e=this.Ro(t.key,t.newValue);if(e)return this.Vo(e)}}else if(t.key===this.eo){if(null!==t.newValue){const e=this.io(t.newValue);if(e)return this.so(e)}}else if(t.key===this.Js){const e=function(e){let t=Tl.le;if(null!=e)try{const n=JSON.parse(e);So("number"==typeof n,30636,{mo:e}),t=n}catch(e){yo(ug,"Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Tl.le&&this.sequenceNumberHandler(e)}else if(t.key===this.no){const e=this.fo(t.newValue);await Promise.all(e.map((e=>this.syncEngine.po(e))))}}else this.js.push(t)}))}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,n){const r=new cg(this.currentUser,e,t,n),i=ag(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Qs())}ao(e){const t=ag(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,n){const r=lg(this.persistenceKey,e),i=new hg(e,t,n);this.setItem(r,i.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const n=this.Po(e);return dg.qs(n,t)}Eo(e,t){const n=this.Zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cg.qs(new ho(i),r,t)}Ro(e,t){const n=this.Xs.exec(e),r=Number(n[1]);return hg.qs(r,t)}io(e){return fg.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);go(ug,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const n=t?this.zs.insert(e,t):this.zs.remove(e),r=this.oo(this.zs),i=this.oo(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.bo(s,a).then((()=>{this.zs=n}))}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=nd();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class gg{constructor(){this.So=new pg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new pg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yg{vo(e){}shutdown(){}}const vg="ConnectivityMonitor";class bg{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){go(vg,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){go(vg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wg=null;function xg(){return null===wg?wg=268435456+Math.round(2147483648*Math.random()):wg++,"0x"+wg.toString(16)}const Sg="RestConnection",_g={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eg{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===pc?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,i){const s=xg(),a=this.$o(e,t.toUriEncodedString());go(Sg,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(o,r,i),this.Ko(e,a,o,n).then((t=>(go(Sg,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw vo(Sg,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Wo(e,t,n,r,i,s){return this.Qo(e,t,n,r,i)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=_g[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class kg{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const Ig="WebChannelConnection";class Cg extends Eg{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const i=xg();return new Promise(((s,a)=>{const o=new Za;o.setWithCredentials(!0),o.listenOnce(to.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case no.NO_ERROR:const t=o.getResponseJson();go(Ig,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case no.TIMEOUT:go(Ig,`RPC '${e}' ${i} timed out`),a(new ko(Eo.DEADLINE_EXCEEDED,"Request time out"));break;case no.HTTP_ERROR:const n=o.getStatus();if(go(Ig,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Eo).indexOf(t)>=0?t:Eo.UNKNOWN}(t.status);a(new ko(e,t.message))}else a(new ko(Eo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ko(Eo.UNAVAILABLE,"Connection failed."));break;default:wo(9055,{s_:e,streamId:i,o_:o.getLastErrorCode(),__:o.getLastError()})}}finally{go(Ig,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);go(Ig,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=xg(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ao(),a=so(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Uo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=i.join("");go(Ig,`Creating RPC '${e}' stream ${r}: ${u}`,o);const c=s.createWebChannel(u,o);let h=!1,d=!1;const f=new kg({Go:t=>{d?go(Ig,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(go(Ig,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),go(Ig,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},zo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,eo.EventType.OPEN,(()=>{d||(go(Ig,`RPC '${e}' stream ${r} transport opened.`),f.t_())})),p(c,eo.EventType.CLOSE,(()=>{d||(d=!0,go(Ig,`RPC '${e}' stream ${r} transport closed`),f.r_())})),p(c,eo.EventType.ERROR,(t=>{d||(d=!0,vo(Ig,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.r_(new ko(Eo.UNAVAILABLE,"The operation could not be completed")))})),p(c,eo.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];So(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){go(Ig,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=zd[e];if(void 0!==t)return Bd(t)}(t),i=a.message;void 0===n&&(n=Eo.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.r_(new ko(n,i)),c.close()}else go(Ig,`RPC '${e}' stream ${r} received:`,i),f.i_(i)}})),p(a,io.STAT_EVENT,(t=>{t.stat===ro.PROXY?go(Ig,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ro.NOPROXY&&go(Ig,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.n_()}),0),f}}function Tg(){return"undefined"!=typeof window?window:null}function Ng(){return"undefined"!=typeof document?document:null}function Ag(e){return new lf(e,!0)}class Dg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&go("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const Pg="PersistentStream";class Og{constructor(e,t,n,r,i,s,a,o){this.bi=e,this.R_=n,this.V_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Dg(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===Eo.RESOURCE_EXHAUSTED?(yo(t.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Eo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.m_===t&&this.B_(n,r)}),(t=>{e((()=>{const e=new ko(Eo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return go(Pg,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(go(Pg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rg extends Og{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(So(void 0===t||"string"==typeof t,58123),tc.fromBase64String(t||"")):(So(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),tc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Eo.UNKNOWN:Bd(e.code);return new ko(t,e.message||"")}(a);n=new Zd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vf(e,r.document.name),s=ff(r.document.updateTime),a=r.document.createTime?ff(r.document.createTime):Ho.min(),o=new Kc({mapValue:{fields:r.document.fields}}),l=Hc.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Xd(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vf(e,r.document),s=r.readTime?ff(r.readTime):Ho.min(),a=Hc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Xd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vf(e,r.document),s=r.removedTargetIds||[];n=new Xd([],s,i,null)}else{if(!("filter"in t))return wo(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new jd(r,i),a=e.targetId;n=new Jd(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ho.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ho.min():t.readTime?ff(t.readTime):Ho.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=xf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Sh(r)?{documents:Cf(e,r)}:{query:Tf(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=hf(e,t.resumeToken);const r=uf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ho.min())>0){n.readTime=cf(e,t.snapshotVersion.toTimestamp());const r=uf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wo(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=xf(this.serializer),t.removeTarget=e,this.F_(t)}}class Lg extends Og{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return So(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,So(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){So(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(So(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?ff(e.updateTime):ff(t);return n.isEqual(Ho.min())&&(n=ff(t)),new bd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ff(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=xf(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>kf(this.serializer,e)))};this.F_(t)}}class Mg{}class Fg extends Mg{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ko(Eo.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Qo(e,mf(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Eo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(Eo.UNKNOWN,e.toString())}))}Wo(e,t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Wo(e,mf(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Eo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(Eo.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class jg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(yo(t),this.ea=!1):go("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const zg="RemoteStore";class Vg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo((e=>{n.enqueueAndForget((async()=>{Wg(this)&&(go(zg,"Restarting streams for network reachability change."),await async function(e){const t=_o(e);t.aa.add(4),await Bg(t),t.la.set("Unknown"),t.aa.delete(4),await Ug(t)}(this))}))})),this.la=new jg(n,r)}}async function Ug(e){if(Wg(e))for(const t of e.ua)await t(!0)}async function Bg(e){for(const t of e.ua)await t(!1)}function qg(e,t){const n=_o(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Qg(n)?Hg(n):py(n).b_()&&Kg(n,t))}function $g(e,t){const n=_o(e),r=py(n);n._a.delete(t),r.b_()&&Gg(n,t),0===n._a.size&&(r.b_()?r.v_():Wg(n)&&n.la.set("Unknown"))}function Kg(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ho.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}py(e).U_(t)}function Gg(e,t){e.ha.Ke(t),py(e).K_(t)}function Hg(e){e.ha=new tf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),py(e).start(),e.la.ta()}function Qg(e){return Wg(e)&&!py(e).w_()&&e._a.size>0}function Wg(e){return 0===_o(e).aa.size}function Yg(e){e.ha=void 0}async function Xg(e){e.la.set("Online")}async function Jg(e){e._a.forEach(((t,n)=>{Kg(e,t)}))}async function Zg(e,t){Yg(e),Qg(e)?(e.la.ia(t),Hg(e)):e.la.set("Unknown")}async function ey(e,t,n){if(e.la.set("Online"),t instanceof Zd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){go(zg,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ty(e,n)}else if(t instanceof Xd?e.ha.Xe(t):t instanceof Jd?e.ha.ot(t):e.ha.nt(t),!n.isEqual(Ho.min()))try{const t=await Hm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._a.get(r);i&&e._a.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(tc.EMPTY_BYTE_STRING,r.snapshotVersion)),Gg(e,t);const i=new zf(r.target,t,n,r.sequenceNumber);Kg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){go(zg,"Failed to raise snapshot:",t),await ty(e,t)}}async function ty(e,t,n){if(!wl(t))throw t;e.aa.add(1),await Bg(e),e.la.set("Offline"),n||(n=()=>Hm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{go(zg,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await Ug(e)}))}function ny(e,t){return t().catch((n=>ty(e,n,t)))}async function ry(e){const t=_o(e),n=my(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Nl;for(;iy(t);)try{const e=await Wm(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,sy(t,e)}catch(e){await ty(t,e)}ay(t)&&oy(t)}function iy(e){return Wg(e)&&e.oa.length<10}function sy(e,t){e.oa.push(t);const n=my(e);n.b_()&&n.W_&&n.G_(t.mutations)}function ay(e){return Wg(e)&&!my(e).w_()&&e.oa.length>0}function oy(e){my(e).start()}async function ly(e){my(e).H_()}async function uy(e){const t=my(e);for(const n of e.oa)t.G_(n.mutations)}async function cy(e,t,n){const r=e.oa.shift(),i=Md.from(r,t,n);await ny(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ry(e)}async function hy(e,t){t&&my(e).W_&&await async function(e,t){if(function(e){return Ud(e)&&e!==Eo.ABORTED}(t.code)){const n=e.oa.shift();my(e).D_(),await ny(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ry(e)}}(e,t),ay(e)&&oy(e)}async function dy(e,t){const n=_o(e);n.asyncQueue.verifyOperationInProgress(),go(zg,"RemoteStore received new credentials");const r=Wg(n);n.aa.add(3),await Bg(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await Ug(n)}async function fy(e,t){const n=_o(e);t?(n.aa.delete(2),await Ug(n)):t||(n.aa.add(2),await Bg(n),n.la.set("Unknown"))}function py(e){return e.Pa||(e.Pa=function(e,t,n){const r=_o(e);return r.Y_(),new Rg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:Xg.bind(null,e),Jo:Jg.bind(null,e),Zo:Zg.bind(null,e),Q_:ey.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),Qg(e)?Hg(e):e.la.set("Unknown")):(await e.Pa.stop(),Yg(e))}))),e.Pa}function my(e){return e.Ta||(e.Ta=function(e,t,n){const r=_o(e);return r.Y_(),new Lg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:ly.bind(null,e),Zo:hy.bind(null,e),z_:uy.bind(null,e),j_:cy.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await ry(e)):(await e.Ta.stop(),e.oa.length>0&&(go(zg,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class gy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new gy(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ko(Eo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(e,t){if(yo("AsyncQueue",`${t}: ${e}`),wl(e))return new ko(Eo.UNAVAILABLE,`${t}: ${e}`);throw e}class vy{static emptySet(e){return new vy(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zo.comparator(t.key,n.key):(e,t)=>Zo.comparator(e.key,t.key),this.keyedMap=Hh(),this.sortedSet=new Hu(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new vy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class by{constructor(){this.Ia=new Hu(Zo.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):wo(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class wy{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new wy(e,t,vy.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class xy{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Sy{constructor(){this.queries=_y(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=_o(e),r=n.queries;n.queries=_y(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new ko(Eo.ABORTED,"Firestore shutting down"))}}function _y(){return new qh((e=>Fh(e)),Mh)}async function Ey(e,t){const n=_o(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Va()&&t.ma()&&(r=2):(s=new xy,r=t.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=yy(e,`Initialization of query '${jh(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.Ra.push(t),t.ga(n.onlineState),s.Aa&&t.pa(s.Aa)&&Ty(n)}async function ky(e,t){const n=_o(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Ra.indexOf(t);e>=0&&(s.Ra.splice(e,1),0===s.Ra.length?i=t.ma()?0:1:!s.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iy(e,t){const n=_o(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(i)&&(r=!0);t.Aa=i}}r&&Ty(n)}function Cy(e,t,n){const r=_o(e),i=r.queries.get(t);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(t)}function Ty(e){e.fa.forEach((e=>{e.next()}))}var Ny,Ay;(Ay=Ny||(Ny={})).ya="default",Ay.Cache="cache";class Dy{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=wy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Ny.Cache}}class Py{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}class Oy{constructor(e){this.serializer=e}Bs(e){return vf(this.serializer,e)}Ls(e){return e.metadata.exists?Ef(this.serializer,e.document,!1):Hc.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return ff(e)}}class Ry{constructor(e,t,n){this.Oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ly(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const n=Yo.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,n=new Oy(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Bs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ed()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=_o(e);let s=ed(),a=Kh();for(const u of n){const e=t.Bs(u.metadata.name);u.document&&(s=s.add(e));const n=t.Ls(u);n.setReadTime(t.ks(u.metadata.readTime)),a=a.insert(e,n)}const o=i.Cs.newChangeBuffer({trackRemovals:!0}),l=await Ym(i,function(e){return Ph(Th(Yo.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Qm(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.ai.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.ai.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.xs,t.Os))).next((()=>t.xs))))))}(this.localStore,new Oy(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const n of this.queries)await ng(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function Ly(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class My{constructor(e){this.key=e}}class Fy{constructor(e){this.key=e}}class jy{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ed(),this.mutatedKeys=ed(),this.Ua=Uh(e),this.Ka=new vy(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new by,r=t?t.Ka:this.Ka;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=zh(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ja(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Ua(c,o)>0||l&&this.Ua(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ka:s,za:n,ys:a,mutatedKeys:i}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const s=e.za.da();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wo(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const a=t&&!r?this.Ja():[],o=0===this.$a.size&&this.current&&!r?1:0,l=o!==this.Qa;return this.Qa=o,0!==s.length||l?{snapshot:new wy(this.query,e.Ka,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new by,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ed(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new Fy(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new My(n))})),t}Xa(e){this.qa=e.Ns,this.$a=ed();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return wy.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const zy="SyncEngine";class Vy{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Uy{constructor(e){this.key=e,this.tu=!1}}class By{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new qh((e=>Fh(e)),Mh),this.iu=new Map,this.su=new Set,this.ou=new Hu(Zo.comparator),this._u=new Map,this.au=new bm,this.uu={},this.cu=new Map,this.lu=Kp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function qy(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=vv(e);let i;const s=r.ru.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await Ky(r,t,n,!0),i}async function $y(e,t){const n=vv(e);await Ky(n,t,!0,!1)}async function Ky(e,t,n,r){const i=await Ym(e.localStore,Ph(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Gy(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&qg(e.remoteStore,i),o}async function Gy(e,t,n,r,i){e.Pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ga(n);i.ys&&(i=await Jm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return iv(e,t.targetId,o.Ya),o.snapshot}(e,t,n,r);const s=await Jm(e.localStore,t,!0),a=new jy(t,s.Ns),o=a.Ga(s.documents),l=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);iv(e,n,u.Ya);const c=new Vy(t,n,a);return e.ru.set(t,c),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),u.snapshot}async function Hy(e,t,n){const r=_o(e),i=r.ru.get(t),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter((e=>!Mh(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$g(r.remoteStore,i.targetId),nv(r,i.targetId)})).catch(dl)):(nv(r,i.targetId),await Xm(r.localStore,i.targetId,!0))}async function Qy(e,t){const n=_o(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$g(n.remoteStore,r.targetId))}async function Wy(e,t){const n=_o(e);try{const e=await function(e,t){const n=_o(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.ai.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.ai.addMatchingKeys(e,s.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(tc.EMPTY_BYTE_STRING,Ho.min()).withLastLimboFreeSnapshotVersion(Ho.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,s)&&a.push(n.ai.updateTargetData(e,u))}));let o=Kh(),l=ed();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Qm(e,s,t.documentUpdates).next((e=>{o=e.xs,l=e.Os}))),!r.isEqual(Ho.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return fl.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(So(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?So(r.tu,14607):e.removedDocuments.size>0&&(So(r.tu,42227),r.tu=!1))})),await ov(n,e,t)}catch(e){await dl(e)}}function Yy(e,t,n){const r=_o(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const i=r.view.ga(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=_o(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Ra)i.ga(t)&&(r=!0)})),r&&Ty(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Xy(e,t,n){const r=_o(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),s=i&&i.key;if(s){let e=new Hu(Zo.comparator);e=e.insert(s,Hc.newNoDocument(s,Ho.min()));const n=ed().add(s),i=new Wd(Ho.min(),new Map,new Hu(jo),e,n);await Wy(r,i),r.ou=r.ou.remove(s),r._u.delete(t),av(r)}else await Xm(r.localStore,t,!1).then((()=>nv(r,t,n))).catch(dl)}async function Jy(e,t){const n=_o(e),r=t.batch.batchId;try{const e=await function(e,t){const n=_o(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=fl.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);So(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ed();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);tv(n,r,null),ev(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ov(n,e)}catch(e){await dl(e)}}async function Zy(e,t,n){const r=_o(e);try{const e=await function(e,t){const n=_o(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(So(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);tv(r,t,n),ev(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ov(r,e)}catch(n){await dl(n)}}function ev(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function tv(e,t,n){const r=_o(e);let i=r.uu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function nv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||rv(e,t)}))}function rv(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&($g(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),av(e))}function iv(e,t,n){for(const r of n)r instanceof My?(e.au.addReference(r.key,t),sv(e,r)):r instanceof Fy?(go(zy,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||rv(e,r.key)):wo(19791,{Iu:r})}function sv(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(go(zy,"New document in limbo: "+n),e.su.add(r),av(e))}function av(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new Zo(Yo.fromString(t)),r=e.lu.next();e._u.set(r,new Uy(n)),e.ou=e.ou.insert(n,r),qg(e.remoteStore,new zf(Ph(Th(n.path)),r,"TargetPurposeLimboResolution",Tl.le))}}async function ov(e,t,n){const r=_o(e),i=[],s=[],a=[];r.ru.isEmpty()||(r.ru.forEach(((e,o)=>{a.push(r.Pu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Vm.Ps(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.nu.Q_(i),await async function(e,t){const n=_o(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>fl.forEach(t,(t=>fl.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>fl.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!wl(e))throw e;go(qm,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,i)}}}(r.localStore,s))}async function lv(e,t){const n=_o(e);if(!n.currentUser.isEqual(t)){go(zy,"User change. New user:",t.toKey());const e=await Gm(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new ko(Eo.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ov(n,e.Ms)}}function uv(e,t){const n=_o(e),r=n._u.get(t);if(r&&r.tu)return ed().add(r.key);{let e=ed();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}async function cv(e,t){const n=_o(e),r=await Jm(n.localStore,t.query,!0),i=t.view.Xa(r);return n.isPrimaryClient&&iv(n,t.targetId,i.Ya),i}async function hv(e,t){const n=_o(e);return eg(n.localStore,t).then((e=>ov(n,e)))}async function dv(e,t,n,r){const i=_o(e),s=await function(e,t){const n=_o(e),r=_o(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Hn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):fl.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await ry(i.remoteStore):"acknowledged"===n||"rejected"===n?(tv(i,t,r||null),ev(i,t),function(e,t){_o(_o(e).mutationQueue).Xn(t)}(i.localStore,t)):wo(6720,"Unknown batchState",{Eu:n}),await ov(i,s)):go(zy,"Cannot apply mutation batch with id: "+t)}async function fv(e,t,n){const r=_o(e),i=[],s=[];for(const a of t){let e;const t=r.iu.get(a);if(t&&0!==t.length){e=await Ym(r.localStore,Ph(t[0]));for(const e of t){const t=r.ru.get(e),n=await cv(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Zm(r.localStore,a);e=await Ym(r.localStore,t),await Gy(r,pv(t),a,!1,e.resumeToken)}i.push(e)}return r.nu.Q_(s),i}function pv(e){return Ch(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mv(e){return function(e){return _o(_o(e).persistence).us()}(_o(e).localStore)}async function gv(e,t,n,r){const i=_o(e);if(i.hu)return void go(zy,"Ignoring unexpected query state notification.");const s=i.iu.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await eg(i.localStore,Vh(s[0])),r=Wd.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,tc.EMPTY_BYTE_STRING);await ov(i,e,r);break}case"rejected":await Xm(i.localStore,t,!0),nv(i,t,r);break;default:wo(64155,n)}}async function yv(e,t,n){const r=vv(e);if(r.hu){for(const e of t){if(r.iu.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){go(zy,"Adding an already active target "+e);continue}const t=await Zm(r.localStore,e),n=await Ym(r.localStore,t);await Gy(r,pv(t),n.targetId,!1,n.resumeToken),qg(r.remoteStore,n)}for(const e of n)r.iu.has(e)&&await Xm(r.localStore,e,!1).then((()=>{$g(r.remoteStore,e),nv(r,e)})).catch(dl)}}function vv(e){const t=_o(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xy.bind(null,t),t.nu.Q_=Iy.bind(null,t.eventManager),t.nu.Tu=Cy.bind(null,t.eventManager),t}function bv(e){const t=_o(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zy.bind(null,t),t}class wv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ag(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Km(this.persistence,new Bm,e.initialUser,this.serializer)}Ru(e){return new km(Cm.Ei,this.serializer)}Au(e){return new gg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wv.provider={build:()=>new wv};class xv extends wv{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){So(this.persistence.referenceDelegate instanceof Tm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new em(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Fp.withCacheSize(this.cacheSizeBytes):Fp.DEFAULT;return new km((e=>Tm.Ei(e,t)),this.serializer)}}class Sv extends wv{constructor(e,t,n){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await bv(this.gu.syncEngine),await ry(this.gu.remoteStore),await this.persistence.Ki((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Vu(e){return Km(this.persistence,new Bm,e.initialUser,this.serializer)}mu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new em(n,e.asyncQueue,t)}fu(e,t){const n=new Cl(t,this.persistence);return new Il(e.asyncQueue,n)}Ru(e){const t=zm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fp.withCacheSize(this.cacheSizeBytes):Fp.DEFAULT;return new Mm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tg(),Ng(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new gg}}class _v extends Sv{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof mg&&(this.sharedClientState.syncEngine={yo:dv.bind(null,t),wo:gv.bind(null,t),bo:yv.bind(null,t),us:mv.bind(null,t),po:hv.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki((async e=>{await async function(e,t){const n=_o(e);if(vv(n),bv(n),!0===t&&!0!==n.hu){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await fv(n,e.toArray());n.hu=!0,await fy(n.remoteStore,!0);for(const r of t)qg(n.remoteStore,r)}else if(!1===t&&!1!==n.hu){const e=[];let t=Promise.resolve();n.iu.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(nv(n,i),Xm(n.localStore,i,!0)))),$g(n.remoteStore,i)})),await t,await fv(n,e),function(e){const t=_o(e);t._u.forEach(((e,n)=>{$g(t.remoteStore,n)})),t.au.Kr(),t._u=new Map,t.ou=new Hu(Zo.comparator)}(n),n.hu=!1,await fy(n.remoteStore,!1)}}(this.gu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}Au(e){const t=Tg();if(!mg.C(t))throw new ko(Eo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=zm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ev{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Yy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=lv.bind(null,this.syncEngine),await fy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Sy}createDatastore(e){const t=Ag(e.databaseInfo.databaseId),n=function(e){return new Cg(e)}(e.databaseInfo);return function(e,t,n,r){return new Fg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Vg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Yy(this.syncEngine,e,0)),bg.C()?new bg:new yg)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new By(e,t,n,r,i,s);return a&&(o.hu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=_o(e);go(zg,"RemoteStore shutting down."),t.aa.add(5),await Bg(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function kv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}Ev.provider={build:()=>new Ev};class Iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Cv{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new Io,this.buffer=new Uint8Array,this.bu=new TextDecoder("utf-8"),this.Su().then((e=>{e&&e.xa()?this.metadata.resolve(e.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Ma)}`))}),(e=>this.metadata.reject(e)))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(null===e)return null;const t=this.bu.decode(e),n=Number(t);isNaN(n)&&this.vu(`length string (${t}) is not valid number`);const r=await this.Cu(n);return new Py(JSON.parse(r),e.length+n)}Fu(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(0===this.buffer.length)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Tv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ko(Eo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=_o(e),r={documents:t.map((e=>yf(n.serializer,e)))},i=await n.Wo("BatchGetDocuments",n.serializer.databaseId,Yo.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){So(!!t.found,43571),t.found.name,t.found.updateTime;const n=vf(e,t.found.name),r=ff(t.found.updateTime),i=t.found.createTime?ff(t.found.createTime):Ho.min(),s=new Kc({mapValue:{fields:t.found.fields}});return Hc.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){So(!!t.missing,3894),So(!!t.readTime,22933);const n=vf(e,t.missing),r=ff(t.readTime);return Hc.newNoDocument(n,r)}(e,t):wo(7234,{result:t})}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());So(!!t,55234,{key:e}),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Od(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Zo.fromPath(t);this.mutations.push(new Rd(n,this.precondition(n)))})),await async function(e,t){const n=_o(e),r={writes:t.map((e=>kf(n.serializer,e)))};await n.Qo("Commit",n.serializer.databaseId,Yo.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wo(50498,{xu:e.constructor.name});t=Ho.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ko(Eo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ho.min())?wd.exists(!1):wd.updateTime(t):wd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ho.min()))throw new ko(Eo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wd.updateTime(t)}return wd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nv{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ou=n.maxAttempts,this.y_=new Dg(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_((async()=>{const e=new Tv(this.datastore),t=this.Lu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ku(e)}))))})).catch((e=>{this.ku(e)}))}))}Lu(e){try{const t=this.updateFunction(e);return!Al(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget((()=>(this.Bu(),Promise.resolve())))):this.deferred.reject(e)}qu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ud(t)}return!1}}const Av="FirestoreClient";class Dv{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ho.UNAUTHENTICATED,this.clientId=Fo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{go(Av,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(go(Av,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(rt){const n=yy(rt,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Pv(e,t){e.asyncQueue.verifyOperationInProgress(),go(Av,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Gm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ov(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Rv(e);go(Av,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>dy(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>dy(t.remoteStore,n))),e._onlineComponents=t}async function Rv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){go(Av,"Using user provided OfflineComponentProvider");try{await Pv(e,e._uninitializedComponentsProvider._offline)}catch(rt){const n=rt;if(!function(e){return"FirebaseError"===e.name?e.code===Eo.FAILED_PRECONDITION||e.code===Eo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Pv(e,new wv)}}else go(Av,"Using default OfflineComponentProvider"),await Pv(e,new xv(void 0));return e._offlineComponents}async function Lv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(go(Av,"Using user provided OnlineComponentProvider"),await Ov(e,e._uninitializedComponentsProvider._online)):(go(Av,"Using default OnlineComponentProvider"),await Ov(e,new Ev))),e._onlineComponents}function Mv(e){return Rv(e).then((e=>e.persistence))}function Fv(e){return Rv(e).then((e=>e.localStore))}function jv(e){return Lv(e).then((e=>e.remoteStore))}function zv(e){return Lv(e).then((e=>e.syncEngine))}function Vv(e){return Lv(e).then((e=>e.datastore))}async function Uv(e){const t=await Lv(e),n=t.eventManager;return n.onListen=qy.bind(null,t.syncEngine),n.onUnlisten=Hy.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$y.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Qy.bind(null,t.syncEngine),n}function Bv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Io;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Iv({next:o=>{s.yu(),t.enqueueAndForget((()=>ky(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new ko(Eo.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new ko(Eo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Dy(Th(n.path),s,{includeMetadataChanges:!0,Fa:!0});return Ey(e,a)}(await Uv(e),e.asyncQueue,t,n,r))),r.promise}function qv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Io;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Iv({next:n=>{s.yu(),t.enqueueAndForget((()=>ky(e,a))),n.fromCache&&"server"===r.source?i.reject(new ko(Eo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Dy(n,s,{includeMetadataChanges:!0,Fa:!0});return Ey(e,a)}(await Uv(e),e.asyncQueue,t,n,r))),r.promise}function $v(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Mo().encode(e):e,function(e,t){return new Cv(e,t)}(function(e,t){if(e instanceof Uint8Array)return kv(e,t);if(e instanceof ArrayBuffer)return kv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ag(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=_o(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=_o(e),r=ff(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.ci.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ly(r));const i=new Ry(r,e.localStore,t.serializer);let s=await t.du();for(;s;){const e=await i.Na(s);e&&n._updateProgress(e),s=await t.du()}const a=await i.complete();return await ov(e,a.ka,void 0),await function(e,t){const n=_o(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.ci.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.La)}catch(e){return vo(zy,`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await zv(e),i,r)}))}function Kv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Gv=new Map;function Hv(e,t,n){if(!n)throw new ko(Eo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Qv(e,t,n,r){if(!0===t&&!0===r)throw new ko(Eo.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Wv(e){if(!Zo.isDocumentKey(e))throw new ko(Eo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Yv(e){if(Zo.isDocumentKey(e))throw new ko(Eo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wo(12329,{type:typeof e})}function Jv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ko(Eo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xv(e);throw new ko(Eo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Zv(e,t){if(t<=0)throw new ko(Eo.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const eb="firestore.googleapis.com",tb=!0;class nb{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ko(Eo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eb,this.ssl=tb}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:tb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Mp;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Xp)throw new ko(Eo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ko(Eo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ko(Eo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ko(Eo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rb{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ko(Eo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ko(Eo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new To;switch(e.type){case"firstParty":return new Po(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ko(Eo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gv.get(e);t&&(go("ComponentProvider","Removing Datastore"),Gv.delete(e),t.terminate())}(this),Promise.resolve()}}function ib(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Jv(e,rb))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==eb&&s.host!==o&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!Zi(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ho.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ji(JSON.stringify({alg:"none",type:"JWT"})),ji(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ko(Eo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ho(s)}e._authCredentials=new No(new Co(t,n))}}class sb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sb(this.firestore,e,this._query)}}class ab{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ob(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ab(this.firestore,e,this._key)}}class ob extends sb{constructor(e,t,n){super(e,t,Th(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ab(this.firestore,null,new Zo(e))}withConverter(e){return new ob(this.firestore,e,this._path)}}function lb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=is(e),Hv("collection","path",t),e instanceof rb){const n=Yo.fromString(t,...r);return Yv(n),new ob(e,null,n)}{if(!(e instanceof ab||e instanceof ob))throw new ko(Eo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yo.fromString(t,...r));return Yv(n),new ob(e.firestore,null,n)}}function ub(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=is(e),1===arguments.length&&(t=Fo.newId()),Hv("doc","path",t),e instanceof rb){const n=Yo.fromString(t,...r);return Wv(n),new ab(e,null,new Zo(n))}{if(!(e instanceof ab||e instanceof ob))throw new ko(Eo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yo.fromString(t,...r));return Wv(n),new ab(e.firestore,e instanceof ob?e.converter:null,new Zo(n))}}function cb(e,t){return e=is(e),t=is(t),(e instanceof ab||e instanceof ob)&&(t instanceof ab||t instanceof ob)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hb(e,t){return e=is(e),t=is(t),e instanceof sb&&t instanceof sb&&e.firestore===t.firestore&&Mh(e._query,t._query)&&e.converter===t.converter}const db="AsyncQueue";class fb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Dg(this,"async_queue_retry"),this.ju=()=>{const e=Ng();e&&go(db,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=Ng();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new Io;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(_i){if(!wl(_i))throw _i;go(db,"Operation failed with retryable error: "+_i)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,yo("INTERNAL UNHANDLED ERROR: ",pb(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=gy.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&wo(47125,{ec:pb(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function pb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function mb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class gb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Io,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yb extends rb{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fb(e),this._firestoreClient=void 0,await e}}}function vb(e){if(e._terminated)throw new ko(Eo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bb(e),e._firestoreClient}function bb(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new fc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Kv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Dv(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function wb(e,t,n){if((e=Jv(e,yb))._firestoreClient||e._terminated)throw new ko(Eo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new ko(Eo.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},bb(e)}function xb(e){return function(e){const t=new Io;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=_o(e);Wg(n.remoteStore)||go(zy,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=_o(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(e===Nl)return void t.resolve();const r=n.cu.get(e)||[];r.push(t),n.cu.set(e,r)}catch(e){const n=yy(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await zv(e),t))),t.promise}(vb(e=Jv(e,yb)))}function Sb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Mv(e),n=await jv(e);return t.setNetworkEnabled(!0),function(e){const t=_o(e);return t.aa.delete(0),Ug(t)}(n)}))}(vb(e=Jv(e,yb)))}function _b(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Mv(e),n=await jv(e);return t.setNetworkEnabled(!1),async function(e){const t=_o(e);t.aa.add(0),await Bg(t),t.la.set("Offline")}(n)}))}(vb(e=Jv(e,yb)))}function Eb(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=_o(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.ci.getNamedQuery(e,t)))}(await Fv(e),t)))}(vb(e=Jv(e,yb)),t).then((t=>t?new sb(e,null,t.query):null))}class kb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kb(tc.fromBase64String(e))}catch(e){throw new ko(Eo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new kb(tc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ib{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ko(Eo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cb{constructor(e){this._methodName=e}}class Tb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ko(Eo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ko(Eo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jo(this._lat,e._lat)||jo(this._long,e._long)}}class Nb{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Ab=/^__.*__$/;class Db{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Nd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Td(e,this.data,t,this.fieldTransforms)}}class Pb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Nd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ob(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wo(40011,{oc:e})}}class Rb{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ew(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(Ob(this.oc)&&Ab.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Lb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ag(e)}dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Rb({oc:e,methodName:t,Ec:n,path:Jo.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mb(e){const t=e._freezeSettings(),n=Ag(e._databaseId);return new Lb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fb(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.dc(s.merge||s.mergeFields?2:0,t,n,i);Yb("Data must be an object, but it was:",a,r);const o=Qb(r,a);let l,u;if(s.merge)l=new Zu(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Xb(t,r,n);if(!a.contains(i))throw new ko(Eo.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);tw(e,i)||e.push(i)}l=new Zu(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new Db(new Kc(o),l,u)}class jb extends Cb{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jb}}function zb(e,t,n){return new Rb({oc:3,Ec:t.settings.Ec,methodName:e._methodName,cc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Vb extends Cb{_toFieldTransform(e){return new vd(e.path,new cd)}isEqual(e){return e instanceof Vb}}class Ub extends Cb{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=zb(this,e,!0),n=this.Ac.map((e=>Hb(e,t))),r=new hd(n);return new vd(e.path,r)}isEqual(e){return e instanceof Ub&&Zi(this.Ac,e.Ac)}}class Bb extends Cb{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=zb(this,e,!0),n=this.Ac.map((e=>Hb(e,t))),r=new fd(n);return new vd(e.path,r)}isEqual(e){return e instanceof Bb&&Zi(this.Ac,e.Ac)}}class qb extends Cb{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new md(e.serializer,sd(e.serializer,this.Rc));return new vd(e.path,t)}isEqual(e){return e instanceof qb&&this.Rc===e.Rc}}function $b(e,t,n,r){const i=e.dc(1,t,n);Yb("Data must be an object, but it was:",i,r);const s=[],a=Kc.empty();Ku(r,((e,r)=>{const o=Zb(t,e,n);r=is(r);const l=i.hc(o);if(r instanceof jb)s.push(o);else{const e=Hb(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Zu(s);return new Pb(a,o,i.fieldTransforms)}function Kb(e,t,n,r,i,s){const a=e.dc(1,t,n),o=[Xb(t,r,n)],l=[i];if(s.length%2!=0)throw new ko(Eo.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Xb(t,s[d])),l.push(s[d+1]);const u=[],c=Kc.empty();for(let d=o.length-1;d>=0;--d)if(!tw(u,o[d])){const e=o[d];let t=l[d];t=is(t);const n=a.hc(e);if(t instanceof jb)u.push(e);else{const r=Hb(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Zu(u);return new Pb(c,h,a.fieldTransforms)}function Gb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Hb(n,e.dc(r?4:3,t))}function Hb(e,t){if(Wb(e=is(e)))return Yb("Unsupported field value:",t,e),Qb(e,t);if(e instanceof Cb)return function(e,t){if(!Ob(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Hb(i,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=is(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Go.fromDate(e);return{timestampValue:cf(t.serializer,n)}}if(e instanceof Go){const n=new Go(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cf(t.serializer,n)}}if(e instanceof Tb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kb)return{bytesValue:hf(t.serializer,e._byteString)};if(e instanceof ab){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:pf(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Nb)return function(e,t){return{mapValue:{fields:{[gc]:{stringValue:bc},[wc]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return rd(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${Xv(e)}`)}(e,t)}function Qb(e,t){const n={};return Gu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ku(e,((e,r)=>{const i=Hb(r,t.uc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Wb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Go||e instanceof Tb||e instanceof kb||e instanceof ab||e instanceof Cb||e instanceof Nb)}function Yb(e,t,n){if(!Wb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Xv(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function Xb(e,t,n){if((t=is(t))instanceof Ib)return t._internalPath;if("string"==typeof t)return Zb(e,t);throw ew("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jb=new RegExp("[~\\*/\\[\\]]");function Zb(e,t,n){if(t.search(Jb)>=0)throw ew(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ib(...t.split("."))._internalPath}catch(r){throw ew(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ew(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ko(Eo.INVALID_ARGUMENT,o+e+l)}function tw(e,t){return e.some((e=>e.isEqual(t)))}class nw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ab(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rw extends nw{data(){return super.data()}}function iw(e,t){return"string"==typeof t?Zb(e,t):t instanceof Ib?t._internalPath:t._delegate._internalPath}function sw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ko(Eo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aw{}class ow extends aw{}function lw(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof aw&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof cw)).length,n=e.filter((e=>e instanceof uw)).length;if(t>1||t>0&&n>0)throw new ko(Eo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class uw extends ow{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new uw(e,t,n)}_apply(e){const t=this._parse(e);return vw(e._query,t),new sb(e.firestore,e.converter,Rh(e._query,t))}_parse(e){const t=Mb(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ko(Eo.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){yw(a,s);const t=[];for(const n of a)t.push(gw(r,e,n));o={arrayValue:{values:t}}}else o=gw(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||yw(a,s),o=Gb(n,t,a,"in"===s||"not-in"===s);return eh.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class cw extends aw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cw(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:th.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)vw(n,i),n=Rh(n,i)}(e._query,t),new sb(e.firestore,e.converter,Rh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hw extends ow{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hw(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ko(Eo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ko(Eo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(t,n)}(e._query,this._field,this._direction);return new sb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ih(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class dw extends ow{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new dw(e,t,n)}_apply(e){return new sb(e.firestore,e.converter,Lh(e._query,this._limit,this._limitType))}}class fw extends ow{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new fw(e,t,n)}_apply(e){const t=mw(e,this.type,this._docOrFields,this._inclusive);return new sb(e.firestore,e.converter,function(e,t){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class pw extends ow{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new pw(e,t,n)}_apply(e){const t=mw(e,this.type,this._docOrFields,this._inclusive);return new sb(e.firestore,e.converter,function(e,t){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function mw(e,t,n,r){if(n[0]=is(n[0]),n[0]instanceof nw)return function(e,t,n,r,i){if(!r)throw new ko(Eo.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const a of Dh(e))if(a.field.isKeyField())s.push(Dc(t,r.key));else{const e=r.data.field(a.field);if(cc(e))throw new ko(Eo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new ko(Eo.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Qc(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Mb(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new ko(Eo.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new ko(Eo.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Ah(e)&&-1!==s.indexOf("/"))throw new ko(Eo.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Yo.fromString(s));if(!Zo.isDocumentKey(n))throw new ko(Eo.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Zo(n);o.push(Dc(t,i))}else{const e=Gb(n,r,s);o.push(e)}}return new Qc(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function gw(e,t,n){if("string"==typeof(n=is(n))){if(""===n)throw new ko(Eo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ah(t)&&-1!==n.indexOf("/"))throw new ko(Eo.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Yo.fromString(n));if(!Zo.isDocumentKey(r))throw new ko(Eo.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dc(e,new Zo(r))}if(n instanceof ab)return Dc(e,n._key);throw new ko(Eo.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xv(n)}.`)}function yw(e,t){if(!Array.isArray(e)||0===e.length)throw new ko(Eo.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vw(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ko(Eo.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ko(Eo.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class bw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ic(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ku(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[wc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ic(e.doubleValue)));return new Nb(i)}convertGeoPoint(e){return new Tb(ic(e.latitude),ic(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=rc(e);return new Go(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Yo.fromString(e);So(jf(n),9688,{name:e});const r=new mc(n.get(1),n.get(3)),i=new Zo(n.popFirst(5));return r.isEqual(t)||yo(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ww(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class xw extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new kb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ab(this.firestore,null,t)}}class Sw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _w extends nw{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(iw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ew extends _w{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class kw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ew(this._firestore,this._userDataWriter,n.key,n,new Sw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ko(Eo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ew(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Sw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ew(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Iw(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Iw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wo(61501,{type:e})}}function Cw(e,t){return e instanceof _w&&t instanceof _w?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kw&&t instanceof kw&&e._firestore===t._firestore&&hb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Tw extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new kb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ab(this.firestore,null,t)}}function Nw(e){e=Jv(e,ab);const t=Jv(e.firestore,yb),n=vb(t),r=new Tw(t);return function(e,t){const n=new Io;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=_o(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ko(Eo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=yy(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Fv(e),t,n))),n.promise}(n,e._key).then((n=>new _w(t,r,e._key,n,new Sw(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Aw(e){e=Jv(e,sb);const t=Jv(e.firestore,yb),n=vb(t),r=new Tw(t);return function(e,t){const n=new Io;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Jm(e,t,!0),i=new jy(t,r.Ns),s=i.Ga(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=yy(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Fv(e),t,n))),n.promise}(n,e._query).then((n=>new kw(t,r,e,n)))}function Dw(e,t,n){e=Jv(e,ab);const r=Jv(e.firestore,yb),i=ww(e.converter,t,n);return Mw(r,[Fb(Mb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wd.none())])}function Pw(e,t,n){e=Jv(e,ab);const r=Jv(e.firestore,yb),i=Mb(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=is(t))||t instanceof Ib?Kb(i,"updateDoc",e._key,t,n,o):$b(i,"updateDoc",e._key,t),Mw(r,[s.toMutation(e._key,wd.exists(!0))])}function Ow(e,t){const n=Jv(e.firestore,yb),r=ub(e),i=ww(e.converter,t);return Mw(n,[Fb(Mb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wd.exists(!1))]).then((()=>r))}function Rw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=is(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||mb(n[l])||(o=n[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(mb(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let c,h,d;if(e instanceof ab)h=Jv(e.firestore,yb),d=Th(e._key.path),c={next:t=>{n[l]&&n[l](Fw(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Jv(e,sb);h=Jv(t.firestore,yb),d=t._query;const r=new Tw(h);c={next:e=>{n[l]&&n[l](new kw(h,r,t,e))},error:n[l+1],complete:n[l+2]},sw(e._query)}return function(e,t,n,r){const i=new Iv(r),s=new Dy(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ey(await Uv(e),s))),()=>{i.yu(),e.asyncQueue.enqueueAndForget((async()=>ky(await Uv(e),s)))}}(vb(h),d,u,c)}function Lw(e,t){return function(e,t){const n=new Iv(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){_o(e).fa.add(t),t.next()}(await Uv(e),n))),()=>{n.yu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){_o(e).fa.delete(t)}(await Uv(e),n)))}}(vb(e=Jv(e,yb)),mb(t)?t:{next:t})}function Mw(e,t){return function(e,t){const n=new Io;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=bv(e);try{const e=await function(e,t){const n=_o(e),r=Go.now(),i=t.reduce(((e,t)=>e.add(t.key)),ed());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Kh(),l=ed();return n.Cs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Id(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Nd(e.key,t,Gc(t.value.mapValue),wd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Qh(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new Hu(jo)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await ov(r,e.changes),await ry(r.remoteStore)}catch(e){const t=yy(e,"Failed to persist write");n.reject(t)}}(await zv(e),t,n))),n.promise}(vb(e),t)}function Fw(e,t,n){const r=n.docs.get(t._key),i=new Tw(e);return new _w(e,i,t._key,r,new Sw(n.hasPendingWrites,n.fromCache),t.converter)}const jw={maxAttempts:5};class zw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mb(e)}set(e,t,n){this._verifyNotCommitted();const r=Vw(e,this._firestore),i=ww(r.converter,t,n),s=Fb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,wd.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Vw(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=is(t))||t instanceof Ib?Kb(this._dataReader,"WriteBatch.update",r._key,t,n,a):$b(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,wd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vw(e,this._firestore);return this._mutations=this._mutations.concat(new Od(t._key,wd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ko(Eo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vw(e,t){if((e=is(e)).firestore!==t)throw new ko(Eo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Uw{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Mb(e)}get(e){const t=Vw(e,this._firestore),n=new xw(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return wo(24041);const r=e[0];if(r.isFoundDocument())return new nw(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new nw(this._firestore,n,t._key,null,t.converter);throw wo(18433,{doc:r})}))}set(e,t,n){const r=Vw(e,this._firestore),i=ww(r.converter,t,n),s=Fb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Vw(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=is(t))||t instanceof Ib?Kb(this._dataReader,"Transaction.update",r._key,t,n,a):$b(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Vw(e,this._firestore);return this._transaction.delete(t._key),this}}class Bw extends Uw{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Vw(e,this._firestore),n=new Tw(this._firestore);return super.get(e).then((e=>new _w(this._firestore,n,t._key,e._document,new Sw(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fo=e}(ka),ma(new ss("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new yb(new Ao(e.getProvider("auth-internal")),new Ro(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ko(Eo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Da(uo,co,e),Da(uo,co,"esm2017")}();function qw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ko("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function $w(){if("undefined"===typeof Uint8Array)throw new ko("unimplemented","Uint8Arrays are not available in this environment.")}function Kw(){if("undefined"==typeof atob)throw new ko("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Gw{constructor(e){this._delegate=e}static fromBase64String(e){return Kw(),new Gw(kb.fromBase64String(e))}static fromUint8Array(e){return $w(),new Gw(kb.fromUint8Array(e))}toBase64(){return Kw(),this._delegate.toBase64()}toUint8Array(){return $w(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Hw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Qw{enableIndexedDbPersistence(e,t){return function(e,t){vo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return wb(e,Ev.provider,{build:e=>new Sv(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){vo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();wb(e,Ev.provider,{build:e=>new _v(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ko(Eo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Io;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!gl.C())return Promise.resolve();const t=e+Lm;await gl.delete(t)}(zm(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Ww{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||vo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ib(this._delegate,e,t,n)}enableNetwork(){return Sb(this._delegate)}disableNetwork(){return _b(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Qv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xb(this._delegate)}onSnapshotsInSync(e){return Lw(this._delegate,e)}get app(){if(!this._appCompat)throw new ko("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ux(this,lb(this._delegate,e))}catch(_i){throw tx(_i,"collection()","Firestore.collection()")}}doc(e){try{return new ex(this,ub(this._delegate,e))}catch(_i){throw tx(_i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ax(this,function(e,t){if(e=Jv(e,rb),Hv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ko(Eo.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sb(e,null,function(e){return new Ih(Yo.emptyPath(),e)}(t))}(this._delegate,e))}catch(_i){throw tx(_i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Jv(e,yb);const r=Object.assign(Object.assign({},jw),n);return function(e){if(e.maxAttempts<1)throw new ko(Eo.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Io;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Vv(e);new Nv(e.asyncQueue,i,n,t,r).Nu()})),r.promise}(vb(e),(n=>t(new Bw(e,n))),r)}(this._delegate,(t=>e(new Xw(this,t))))}batch(){return vb(this._delegate),new Jw(new zw(this._delegate,(e=>Mw(this._delegate,e))))}loadBundle(e){return function(e,t){const n=vb(e=Jv(e,yb)),r=new gb;return $v(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Eb(this._delegate,e).then((e=>e?new ax(this,e):null))}}class Yw extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gw(new kb(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ex.forKey(t,this.firestore,null)}}class Xw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Yw(e)}get(e){const t=cx(e);return this._delegate.get(t).then((e=>new ix(this._firestore,new _w(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=cx(e);return n?(qw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=cx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=cx(e);return this._delegate.delete(t),this}}class Jw{constructor(e){this._delegate=e}set(e,t,n){const r=cx(e);return n?(qw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=cx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=cx(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zw{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Ew(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sx(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Zw.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Zw(e,new Yw(e),t),r.set(t,i)),i}}Zw.INSTANCES=new WeakMap;class ex{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Yw(e)}static forPath(e,t,n){if(e.length%2!==0)throw new ko("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ex(t,new ab(t._delegate,n,new Zo(e)))}static forKey(e,t,n){return new ex(t,new ab(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new ux(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ux(this.firestore,lb(this._delegate,e))}catch(_i){throw tx(_i,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=is(e))instanceof ab&&cb(this._delegate,e)}set(e,t){t=qw("DocumentReference.set",t);try{return t?Dw(this._delegate,e,t):Dw(this._delegate,e)}catch(_i){throw tx(_i,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Pw(this._delegate,e):Pw(this._delegate,e,t,...r)}catch(_i){throw tx(_i,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Mw(Jv(e.firestore,yb),[new Od(e._key,wd.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=nx(t),i=rx(t,(e=>new ix(this.firestore,new _w(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Rw(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Nw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Jv(e,ab);const t=Jv(e.firestore,yb);return Bv(vb(t),e._key,{source:"server"}).then((n=>Fw(t,e,n)))}(this._delegate):function(e){e=Jv(e,ab);const t=Jv(e.firestore,yb);return Bv(vb(t),e._key).then((n=>Fw(t,e,n)))}(this._delegate),t.then((e=>new ix(this.firestore,new _w(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new ex(this.firestore,e?this._delegate.withConverter(Zw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tx(e,t,n){return e.message=e.message.replace(t,n),e}function nx(e){for(const t of e)if("object"===typeof t&&!Hw(t))return t;return{}}function rx(e,t){var n,r;let i;return i=Hw(e[0])?e[0]:Hw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ix{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ex(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Cw(this._delegate,e._delegate)}}class sx extends ix{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||wo(57014,t)}(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class ax{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Yw(e)}where(e,t,n){try{return new ax(this.firestore,lw(this._delegate,function(e,t,n){const r=t,i=iw("where",e);return uw._create(i,r,n)}(e,t,n)))}catch(_i){throw tx(_i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ax(this.firestore,lw(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=iw("orderBy",e);return hw._create(n,t)}(e,t)))}catch(_i){throw tx(_i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ax(this.firestore,lw(this._delegate,function(e){return Zv("limit",e),dw._create("limit",e,"F")}(e)))}catch(_i){throw tx(_i,"limit()","Query.limit()")}}limitToLast(e){try{return new ax(this.firestore,lw(this._delegate,function(e){return Zv("limitToLast",e),dw._create("limitToLast",e,"L")}(e)))}catch(_i){throw tx(_i,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new ax(this.firestore,lw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fw._create("startAt",t,!0)}(...arguments)))}catch(_i){throw tx(_i,"startAt()","Query.startAt()")}}startAfter(){try{return new ax(this.firestore,lw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fw._create("startAfter",t,!1)}(...arguments)))}catch(_i){throw tx(_i,"startAfter()","Query.startAfter()")}}endBefore(){try{return new ax(this.firestore,lw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pw._create("endBefore",t,!1)}(...arguments)))}catch(_i){throw tx(_i,"endBefore()","Query.endBefore()")}}endAt(){try{return new ax(this.firestore,lw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pw._create("endAt",t,!0)}(...arguments)))}catch(_i){throw tx(_i,"endAt()","Query.endAt()")}}isEqual(e){return hb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Aw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Jv(e,sb);const t=Jv(e.firestore,yb),n=vb(t),r=new Tw(t);return qv(n,e._query,{source:"server"}).then((n=>new kw(t,r,e,n)))}(this._delegate):function(e){e=Jv(e,sb);const t=Jv(e.firestore,yb),n=vb(t),r=new Tw(t);return sw(e._query),qv(n,e._query).then((n=>new kw(t,r,e,n)))}(this._delegate),t.then((e=>new lx(this.firestore,new kw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=nx(t),i=rx(t,(e=>new lx(this.firestore,new kw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Rw(this._delegate,r,i)}withConverter(e){return new ax(this.firestore,e?this._delegate.withConverter(Zw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class ox{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ax(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new sx(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new ox(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new sx(this._firestore,n))}))}isEqual(e){return Cw(this._delegate,e._delegate)}}class ux extends ax{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ex(this.firestore,e):null}doc(e){try{return new ex(this.firestore,void 0===e?ub(this._delegate):ub(this._delegate,e))}catch(_i){throw tx(_i,"doc()","CollectionReference.doc()")}}add(e){return Ow(this._delegate,e).then((e=>new ex(this.firestore,e)))}isEqual(e){return cb(this._delegate,e._delegate)}withConverter(e){return new ux(this.firestore,e?this._delegate.withConverter(Zw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function cx(e){return Jv(e,ab)}class hx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Ib(...t)}static documentId(){return new hx(Jo.keyField().canonicalString())}isEqual(e){return(e=is(e))instanceof Ib&&this._delegate._internalPath.isEqual(e._internalPath)}}class dx{static serverTimestamp(){const e=new Vb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new dx(e)}static delete(){const e=new jb("deleteField");return e._methodName="FieldValue.delete",new dx(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ub("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new dx(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bb("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new dx(e)}static increment(e){const t=function(e){return new qb("increment",e)}(e);return t._methodName="FieldValue.increment",new dx(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fx={Firestore:Ww,GeoPoint:Tb,Timestamp:Go,Blob:Gw,Transaction:Xw,WriteBatch:Jw,DocumentReference:ex,DocumentSnapshot:ix,Query:ax,QueryDocumentSnapshot:sx,QuerySnapshot:lx,CollectionReference:ux,FieldPath:hx,FieldValue:dx,setLogLevel:function(e){!function(e){po.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var px;(function(e,t){e.INTERNAL.registerComponent(new ss("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},fx)))})(px=Qa,((e,t)=>new Ww(e,t,new Qw))),px.registerVersion("@firebase/firestore-compat","0.3.46");Qa.initializeApp({apiKey:"AIzaSyBMiyhlsVTVAIpurORCEnPBkLprGL3TN7U",authDomain:"projeto-mercado-patrocinado.firebaseapp.com",projectId:"projeto-mercado-patrocinado",storageBucket:"projeto-mercado-patrocinado.firebasestorage.app",messagingSenderId:"408578085850",appId:"1:408578085850:web:23ba204688c2b53546e6e3"});const mx=Qa.firestore(),gx=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});function yx(e){let{cartTotal:t,selectedProducts:n=[]}=e;const[i,s]=(0,r.useState)({nome:"",email:"",endereco:"",cidade:"",telefone:"",cep:"",nomeCartao:"",numeroCartao:"",mesExpiracao:"",anoExpiracao:"",cvv:""}),[a,o]=(0,r.useState)(!1),l=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return(0,vi.jsxs)("div",{className:"checkout-container",children:[(0,vi.jsxs)("div",{className:"cart-summary",children:[(0,vi.jsx)("h3",{children:"Pedido Selecionado"}),(0,vi.jsx)("div",{className:"products-container",children:n.length>0?n.map((e=>(0,vi.jsxs)("div",{className:"product-item",children:[(0,vi.jsx)("img",{src:e.image,alt:e.name,className:"product-imagee"}),(0,vi.jsxs)("div",{className:"product-details",children:[(0,vi.jsx)("p",{className:"product-namee",children:e.name}),(0,vi.jsxs)("p",{className:"product-pricee",children:[(0,vi.jsx)("b",{children:"Pre\xe7o:"})," ",gx(e.price)]}),(0,vi.jsxs)("p",{className:"product-installmentss",children:["Parcelas: ",e.maxInstallments,"x"]})]})]},e.id))):(0,vi.jsx)("p",{className:"empty-cart",children:"Nenhum produto selecionado."})}),(0,vi.jsx)("div",{className:"cart-total",children:(0,vi.jsxs)("h3",{children:["Valor Total: ",gx(t)]})})]}),(0,vi.jsx)("div",{className:"payment-form",children:(0,vi.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),o(!0),Object.values(i).includes("")||0===n.length)return alert("Preencha todos os campos e adicione produtos ao carrinho."),void o(!1);const r={...i,total:t,produtos:n.map((e=>({id:e.id,nome:e.name,preco:e.price,quantidade:e.quantity})))};try{await Ow(lb(mx,"orders"),r),alert("Pedido realizado com sucesso!"),s({nome:"",email:"",endereco:"",cidade:"",telefone:"",cep:"",nomeCartao:"",numeroCartao:"",mesExpiracao:"",anoExpiracao:"",cvv:""})}catch(a){console.error("Erro ao salvar pedido:",a),alert("Erro ao processar o pedido. Tente novamente.")}o(!1)},children:(0,vi.jsxs)("div",{className:"row",children:[(0,vi.jsxs)("div",{className:"column",children:[(0,vi.jsx)("h3",{className:"title",children:"Dados de Entrega"}),["nome","email","endereco","cidade","telefone","cep"].map((e=>(0,vi.jsxs)("div",{className:"input-box",children:[(0,vi.jsxs)("label",{htmlFor:e,children:[e.charAt(0).toUpperCase()+e.slice(1),":"]}),(0,vi.jsx)("input",{type:"text",id:e,name:e,value:i[e],onChange:l,required:!0})]},e))),(0,vi.jsxs)("div",{className:"security-notes",children:[(0,vi.jsxs)("p",{children:[(0,vi.jsx)(gi,{icon:Me})," Garantindo que sua informa\xe7\xe3o esteja segura e que sua privacidade seja respeitada."]}),(0,vi.jsxs)("p",{children:[(0,vi.jsx)(gi,{icon:De})," Cobran\xe7a como ",(0,vi.jsx)("b",{children:"PG*BANK"}),"."]})]})]}),(0,vi.jsxs)("div",{className:"column",children:[(0,vi.jsx)("h3",{className:"title",children:"Pagamento"}),(0,vi.jsx)("img",{src:"/mercadoPatrocinado/imagens/barra.png",alt:"Cart\xf5es Aceitos"}),["nomeCartao","numeroCartao","mesExpiracao","anoExpiracao","cvv"].map((e=>(0,vi.jsxs)("div",{className:"input-box",children:[(0,vi.jsxs)("label",{htmlFor:e,children:[e.charAt(0).toUpperCase()+e.slice(1),":"]}),(0,vi.jsx)("input",{type:"text",id:e,name:e,value:i[e],onChange:l,required:!0})]},e))),(0,vi.jsxs)("button",{type:"submit",className:"btn",disabled:a,children:[a?"Processando...":"Pagar Agora"," ",(0,vi.jsx)(gi,{icon:Ae})]})]})]})})})]})}function vx(e){let{addProductToCart:t,cartItems:n=[]}=e;const[i,s]=(0,r.useState)([]),a=te();(0,r.useEffect)((()=>{fetch("/mercadoPatrocinado/db2.json").then((e=>e.json())).then((e=>{e.additionalImages?s(e.additionalImages):console.error("Estrutura de dados inesperada:",e)})).catch((e=>console.error("Erro ao buscar produtos:",e)))}),[]);const o=e=>e?("string"!==typeof e&&(e=e.toString()),parseFloat(e.replace(/[^\d,]/g,"").replace(",","."))||0):0,l=e=>isNaN(e)||0===e?"R$ 0,00":`R$ ${e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}`,u=e=>n.some((t=>t.id===e));return(0,vi.jsxs)("div",{className:"additional-images-section",children:[(0,vi.jsxs)("div",{className:"section-header",children:[(0,vi.jsx)("h3",{children:"Produtos Patrocinado"}),(0,vi.jsx)("div",{className:"bar"})]}),(0,vi.jsx)("div",{className:"additionalImages",children:i.map((e=>(0,vi.jsxs)("div",{className:"sponsored-product",children:[(0,vi.jsx)("img",{src:`/mercadoPatrocinado/${e.image}`,alt:e.name,className:"sponsored-product-image"}),(0,vi.jsx)("p",{className:"sponsored-product-name",children:e.name}),(0,vi.jsxs)("p",{className:"sponsored-product-rating",children:["\u2605".repeat(e.rating),"\u2605".repeat(5-e.rating)]}),(0,vi.jsxs)("p",{className:"sponsored-product-price",children:[e.originalPrice&&(0,vi.jsxs)("span",{className:"linha-sobre-texto",children:["DE ",l(o(e.originalPrice))]}),(0,vi.jsx)("br",{}),(0,vi.jsxs)("span",{children:["Por ",l(o(e.price))]}),(0,vi.jsx)("br",{}),e.installmentPrice&&(0,vi.jsxs)("span",{className:"preco-parcelas",children:["Em at\xe9 ",e.maxInstallments,"x de ",l(o(e.installmentPrice))]})]}),(0,vi.jsxs)("div",{className:"sponsored-product-buttons",children:[(0,vi.jsxs)("button",{onClick:()=>(e=>{const n={...e,price:o(e.price),quantity:1};u(e.id)||t(n),window.scrollTo({top:0,behavior:"smooth"}),setTimeout((()=>{a("/checkout",{state:{product:n,cartTotal:n.price}})}),100)})(e),className:"sponsored-btn-icon",children:[(0,vi.jsx)("span",{children:"Comprar Agora"}),(0,vi.jsx)(gi,{icon:Ae})]}),(0,vi.jsxs)("button",{onClick:()=>(e=>{if(u(e.id))console.error("Produto j\xe1 est\xe1 no carrinho");else{const n={...e,price:o(e.price),quantity:1};t(n)}})(e),className:"sponsored-add-to-cart-btn",children:[(0,vi.jsx)("span",{children:"Adicionar ao Carrinho"}),(0,vi.jsx)(gi,{icon:Pe})]})]})]},e.id)))})]})}const bx=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(0),u=e=>{l((t=>t+e))},c=e=>{const t=d(e.price),n=s.find((t=>t.id===e.id));if(n){const n=s.map((t=>t.id===e.id?{...t,quantity:t.quantity+1}:t));a(n),u(t)}else a((t=>[...t,{...e,quantity:1}])),u(t)},h=e=>{const t=s.find((t=>t.id===e));if(!t)return;const n=s.filter((t=>t.id!==e));a(n);const r=d(t.price);u(-r*t.quantity)},d=e=>("string"!==typeof e&&(e=String(e)),parseFloat(e.replace(/[^\d,]/g,"").replace(",","."))||0);return(0,r.useEffect)((()=>{fetch("/mercadoPatrocinado/db.json").then((e=>{if(!e.ok)throw new Error("Erro ao carregar o JSON");return e.json()})).then((e=>{e.products&&t(e.products)})).catch((e=>console.error("Erro ao buscar produtos:",e)))}),[]),(0,vi.jsx)(Ee,{basename:"/mercadoPatrocinado",children:(0,vi.jsxs)("div",{className:"App",children:[(0,vi.jsx)(bi,{selectedProducts:s,setShowSidebarCart:i}),(0,vi.jsx)(Ri,{addToCartTotal:u,removeProductFromCart:h,cartTotal:o,selectedProducts:s,setSelectedProducts:a,setShowSidebarCart:i,showSidebarCart:n,setCartTotal:l}),(0,vi.jsxs)("main",{children:[(0,vi.jsxs)(ve,{children:[(0,vi.jsx)(ge,{path:"/",element:(0,vi.jsx)(Di,{addToCartTotal:u,removeProductFromCart:h,selectedProducts:s,addProductToCart:c,products:e,setShowSidebarCart:i,showSidebarCart:n,cartTotal:o})}),(0,vi.jsx)(ge,{path:"/products",element:(0,vi.jsx)(Pi,{products:e,addProductToCart:c})}),(0,vi.jsx)(ge,{path:"/checkout",element:(0,vi.jsx)(yx,{cartTotal:o,selectedProducts:s,onRemoveProduct:h})})]}),(0,vi.jsx)(vx,{addProductToCart:c,cartItems:s,updateCartQuantity:(e,t)=>{a((n=>{const r=n.map((n=>n.id===e?{...n,quantity:t}:n)),i=r.reduce(((e,t)=>e+d(t.price)*t.quantity),0);return l(i),r}))}})]}),(0,vi.jsx)(wi,{})]})})};s.createRoot(document.getElementById("root")).render((0,vi.jsx)(r.StrictMode,{children:(0,vi.jsx)(bx,{})}))})()})();
//# sourceMappingURL=main.fdceb025.js.map